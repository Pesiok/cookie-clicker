{"version":3,"sources":["webpack:///bundle.87eb4.js","webpack:///webpack/bootstrap e61d3e13e772bcffa498","webpack:///./components/store/style.css","webpack:///./components/common/subscribe.jsx","webpack:///./services/observable/observable.js","webpack:///./services/buildings/structure.js","webpack:///./services/buildings/buildings.js","webpack:///./services/game/util.js","webpack:///./services/game/game.js","webpack:///./services/observable/events.js","webpack:///./services/database/db.js","webpack:///./services/index.js","webpack:///./components/common/subscribe-to.jsx","webpack:///./components/stats/index.jsx","webpack:///./components/cookie/index.jsx","webpack:///./components/cookie-container/index.jsx","webpack:///./components/store/index.jsx","webpack:///./components/store-container/index.jsx","webpack:///./components/main/index.jsx","webpack:///./components/footer/index.jsx","webpack:///./components/app.jsx","webpack:///./index.js","webpack:///../node_modules/preact/dist/preact.min.js","webpack:///./assets/images/buildings/factory.svg","webpack:///./assets/images/buildings/mine.svg","webpack:///./assets/images/buildings/grandma.svg","webpack:///./components/main/style.css","webpack:///./components/cookie/style.css","webpack:///../node_modules/idb/lib/idb.js","webpack:///./assets/images/buildings/farm.svg","webpack:///./assets/images/buildings/cursor.svg","webpack:///./assets/images/cookie.svg","webpack:///../node_modules/preact-cli/lib/lib/entry.js","webpack:///./assets/images/buildings ^\\.\\/.*$","webpack:///./components/stats/style.css"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","JCeB","store","storeList","blocked","active","icon","JkW7","__webpack_exports__","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","create","constructor","value","writable","setPrototypeOf","__proto__","observable__classCallCheck","instance","Constructor","structure__classCallCheck","buildings__classCallCheck","buildings__possibleConstructorReturn","buildings__inherits","game__classCallCheck","db__classCallCheck","footer__classCallCheck","preact_min","preact_min_default","main_style","main_style_default","subscribe_Subscribe","_Component","Subscribe","props","_this","this","onAppStateChange","subData","setState","state","observable","from","componentDidMount","event","to","addObserver","componentWillUnmount","removeObserver","render","_ref","_ref2","children","length","map","child","a","cloneElement","sub","subscribe","idb","idb_default","ObservableService","observers","eventType","observer","callback","concat","filter","current","emitEvent","data","eventObs","forEach","emitEvents","events","type","Structure","desc","picture","baseCost","_ref$owned","owned","undefined","refreshRate","incrQuantity","affordable","cookiesPerSecond","price","getPrice","quantity","arguments","Math","ceil","pow","Error","calculateCookiesPerSecond","cps","floor","checkIfAffordable","cookies","buy","_checkIfAffordable","Cursor","_Structure","Grandma","_Structure2","Farm","_Structure3","Mine","_Structure4","Factory","_Structure5","buildings","_extends","assign","target","source","key","util_getInitialState","Structures","cookiesQuantity","cookiesDisplay","cookiesPerClick","keys","util_transformDbState","dbBuilding","CurrentStructure","game_GameService","GameService","dbService","saveInterval","startGame","autoSave","seconds","setInterval","write","resetGame","clear","building","reduce","acc","curr","_this2","timestamp","window","performance","now","Date","getTime","delta","last","frame","update","requestAnimationFrame","_this3","secondsPassed","buyBuilding","find","requestRefresh","click","DbService","driver","stores","dbPromise","createDatabase","open","db","objectStoreNames","contains","createObjectStore","keyPath","then","transaction","objectStore","put","complete","readAll","getAll","app","subscribe_to_SubscribeToState","stats_style","stats_style_default","stats_Stats","class","stats","cookie_style","cookie_style_default","cookie","cookie_default","cookie_clickHandler","cookie__ref2","src","alt","cookie_Cookie","onClick","components_cookie","cookie_container__ref","CookieContainer","cookie_container","store_style","store_style_default","store__ref2","store_Store","_ref3","store_container__ref","StoreContainer","store_container","main__ref","main__ref2","main_Main","main","footer__ref","href","title","footer__ref2","footer__ref3","_ref4","_ref5","rel","footer_Footer","Footer","resetHandler","footer","app__ref","id","App","components_app","KM04","e","t","r","E","W","push","pop","u","nodeName","attributes","S","vnode","slice","__d","A","debounceRendering","P","k","splitText","_componentConstructor","__n","toLowerCase","defaultProps","_","document","createElementNS","createElement","parentNode","removeChild","style","cssText","V","test","innerHTML","__html","replace","substring","addEventListener","f","removeEventListener","__l","removeAttribute","removeAttributeNS","setAttributeNS","setAttribute","className","D","afterMount","h","H","R","ownerSVGElement","j","appendChild","_component","nodeValue","createTextNode","replaceChild","b","__preactattr_","U","firstChild","nextSibling","v","dangerouslySetInnerHTML","g","childNodes","y","w","C","x","N","__k","trim","insertBefore","L","ref","lastChild","previousSibling","I","T","__b","splice","__x","__r","base","componentWillMount","componentWillReceiveProps","context","__c","__p","syncComponentUpdates","__s","shouldComponentUpdate","componentWillUpdate","getChildContext","M","__u","unshift","componentDidUpdate","afterUpdate","__h","beforeUnmount","Promise","resolve","bind","setTimeout","forceUpdate","$","Component","rerender","options","La2c","PUFR","Rts4","STmO","e5AH","enoJ","toArray","arr","Array","promisifyRequest","request","reject","onsuccess","result","onerror","error","promisifyRequestCall","obj","method","args","apply","promisifyCursorRequestCall","proxyProperties","ProxyClass","targetProp","properties","prop","set","val","proxyRequestMethods","proxyMethods","proxyCursorRequestMethods","Index","index","_index","cursor","_cursor","_request","ObjectStore","_store","Transaction","idbTransaction","_tx","oncomplete","onabort","UpgradeDB","oldVersion","_db","DB","IDBIndex","IDBCursor","methodName","createIndex","IDBObjectStore","IDBTransaction","IDBDatabase","funcName","nativeObject","query","count","items","iterateCursor","continue","exp","version","upgradeCallback","indexedDB","onupgradeneeded","delete","default","l6RX","oN5R","osaz","pwNi","_preact","navigator","location","protocol","serviceWorker","register","interopDefault","root","body","firstElementChild","init","rq4c","t0pj","webpackContext","req","webpackContextResolve","./cursor.svg","./factory.svg","./farm.svg","./grandma.svg","./mine.svg","xjId"],"mappings":"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","file":"bundle.87eb4.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/cookie-clicker/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"pwNi\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"JCeB\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"store\":\"store__2YQhv\",\"storeList\":\"storeList__34C1x\",\"blocked\":\"blocked__bFsa8\",\"active\":\"active__2rerf\",\"icon\":\"icon__2rdb0\"};\n\n/***/ }),\n\n/***/ \"JkW7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./style/index.css\nvar style = __webpack_require__(\"rq4c\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./components/main/style.css\nvar main_style = __webpack_require__(\"STmO\");\nvar main_style_default = /*#__PURE__*/__webpack_require__.n(main_style);\n\n// CONCATENATED MODULE: ./components/common/subscribe.jsx\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n// Subscribe is a higher order component that will inject some data to it's children whenever a specific event occurs\n// Could be used to listen to any event, not necessarily to one that involves global app state\n\n// You can subscribe to events by `to` prop from any obseravable passed to 'from' prop\n// Data published from observable is accesible in children by `props.sub`\n\nvar subscribe_Subscribe = function (_Component) {\n\t_inherits(Subscribe, _Component);\n\n\tfunction Subscribe(props) {\n\t\t_classCallCheck(this, Subscribe);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_this.onAppStateChange = function (subData) {\n\t\t\treturn _this.setState({ subData: subData });\n\t\t};\n\n\t\t_this.state = {};\n\t\t_this.observable = props.from;\n\t\treturn _this;\n\t}\n\n\tSubscribe.prototype.componentDidMount = function componentDidMount() {\n\t\tvar event = this.props.to;\n\n\t\tif (event) {\n\t\t\tthis.observable.addObserver(event, this, this.onAppStateChange);\n\t\t}\n\t};\n\n\tSubscribe.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\tvar event = this.props.to;\n\n\t\tif (event) {\n\t\t\tthis.observable.removeObserver(event, this);\n\t\t}\n\t};\n\n\tSubscribe.prototype.render = function render(_ref, _ref2) {\n\t\tvar children = _ref.children;\n\t\tvar subData = _ref2.subData;\n\n\t\tif (children.length > 1) {\n\t\t\treturn Object(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\tnull,\n\t\t\t\tchildren.map(function (child) {\n\t\t\t\t\treturn preact_min_default.a.cloneElement(child, { sub: subData });\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\treturn preact_min_default.a.cloneElement(children[0], { sub: subData });\n\t};\n\n\treturn Subscribe;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var subscribe = (subscribe_Subscribe);\n// EXTERNAL MODULE: ../node_modules/idb/lib/idb.js\nvar idb = __webpack_require__(\"enoJ\");\nvar idb_default = /*#__PURE__*/__webpack_require__.n(idb);\n\n// CONCATENATED MODULE: ./services/observable/observable.js\nfunction observable__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// ObservableService is a class that implements observer pattern\n// it will run callbacks registered to specific events upon calling `emitEvent`.\n// Do not use it directly when dealing with global app state. Use `GameService`s methods instead.\n// It could be helpful with other actions though.\nvar ObservableService = function () {\n\tfunction ObservableService() {\n\t\tobservable__classCallCheck(this, ObservableService);\n\n\t\tthis.observers = {};\n\t}\n\n\tObservableService.prototype.addObserver = function addObserver(eventType, observer, callback) {\n\t\tthis.observers[eventType] = this.observers[eventType] ? [].concat(this.observers[eventType], [{ observer: observer, callback: callback }]) : [{ observer: observer, callback: callback }];\n\t};\n\n\tObservableService.prototype.removeObserver = function removeObserver(eventType, observer) {\n\t\tthis.observers[eventType] = this.observers[eventType].filter(function (current) {\n\t\t\treturn current.observer !== observer;\n\t\t});\n\t};\n\n\tObservableService.prototype.emitEvent = function emitEvent(eventType, data) {\n\t\tvar eventObs = this.observers[eventType];\n\t\tif (!eventObs || eventObs.length < 0) {\n\t\t\treturn;\n\t\t}\n\t\teventObs.forEach(function (current) {\n\t\t\treturn current.callback(data);\n\t\t});\n\t};\n\n\tObservableService.prototype.emitEvents = function emitEvents(events) {\n\t\tvar _this = this;\n\n\t\tevents.forEach(function (_ref) {\n\t\t\tvar type = _ref.type,\n\t\t\t    data = _ref.data;\n\t\t\treturn _this.emitEvent(type, data);\n\t\t});\n\t};\n\n\treturn ObservableService;\n}();\n\n\n// CONCATENATED MODULE: ./services/buildings/structure.js\nfunction structure__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Structure = function () {\n\tfunction Structure(_ref) {\n\t\tvar desc = _ref.desc,\n\t\t    picture = _ref.picture,\n\t\t    baseCost = _ref.baseCost,\n\t\t    _ref$owned = _ref.owned,\n\t\t    owned = _ref$owned === undefined ? 0 : _ref$owned,\n\t\t    name = _ref.name,\n\t\t    refreshRate = _ref.refreshRate,\n\t\t    incrQuantity = _ref.incrQuantity;\n\n\t\tstructure__classCallCheck(this, Structure);\n\n\t\tthis.baseCost = baseCost;\n\t\tthis.owned = owned;\n\t\tthis.picture = picture;\n\t\tthis.desc = desc;\n\t\tthis.name = name;\n\t\tthis.refreshRate = refreshRate ? refreshRate : 1;\n\t\tthis.incrQuantity = incrQuantity;\n\n\t\tthis.affordable = false;\n\t\tthis.cookiesPerSecond = 0;\n\t\tthis.price = this.getPrice(1);\n\t}\n\n\tStructure.prototype.getPrice = function getPrice() {\n\t\tvar quantity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n\t\t// magic numbers and formulas acquired from:\n\t\t// http://cookieclicker.wikia.com/wiki/Buildings\n\t\tvar powBase = 1.15;\n\t\tvar denominator = 0.15;\n\n\t\tif (quantity >= 1) {\n\t\t\treturn Math.ceil(this.baseCost * (Math.pow(powBase, quantity + this.owned) - Math.pow(powBase, this.owned)) / denominator);\n\t\t}\n\n\t\tthrow new Error('quantity can\\'t be lower than 1');\n\t};\n\n\tStructure.prototype.calculateCookiesPerSecond = function calculateCookiesPerSecond() {\n\t\tvar cps = Math.floor(10 * (this.owned * this.refreshRate * this.incrQuantity)) / 10;\n\t\tthis.cookiesPerSecond = cps;\n\t\treturn cps;\n\t};\n\n\tStructure.prototype.checkIfAffordable = function checkIfAffordable(cookies) {\n\t\tvar quantity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n\t\tvar price = this.getPrice(quantity);\n\t\tthis.affordable = cookies >= price;\n\n\t\treturn [this.affordable, price];\n\t};\n\n\tStructure.prototype.buy = function buy(cookies) {\n\t\tvar quantity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n\t\tvar _checkIfAffordable = this.checkIfAffordable(cookies, quantity),\n\t\t    affordable = _checkIfAffordable[0],\n\t\t    price = _checkIfAffordable[1];\n\n\t\t// buy structure\n\n\n\t\tif (affordable) {\n\t\t\tthis.owned += quantity;\n\n\t\t\t// calculate next price of structure\n\t\t\tthis.price = this.getPrice();\n\n\t\t\t// return current price\n\t\t\treturn price;\n\t\t}\n\n\t\t// structure can't be bought\n\t\treturn false;\n\t};\n\n\treturn Structure;\n}();\n\n\n// CONCATENATED MODULE: ./services/buildings/buildings.js\nfunction buildings__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction buildings__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction buildings__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n// buildings descriptions and stats acquired from cookie clicker wiki:\n// http://cookieclicker.wikia.com/wiki/Buildings\n\nvar Cursor = function (_Structure) {\n\tbuildings__inherits(Cursor, _Structure);\n\n\tfunction Cursor(owned) {\n\t\tbuildings__classCallCheck(this, Cursor);\n\n\t\treturn buildings__possibleConstructorReturn(this, _Structure.call(this, {\n\t\t\towned: owned,\n\t\t\tbaseCost: 15,\n\t\t\trefreshRate: 0.1,\n\t\t\tincrQuantity: 1,\n\t\t\tname: 'Cursor',\n\t\t\tpicture: 'cursor.svg',\n\t\t\tdesc: 'Autoclicks once every 10 seconds.'\n\t\t}));\n\t}\n\n\treturn Cursor;\n}(Structure);\n\nvar Grandma = function (_Structure2) {\n\tbuildings__inherits(Grandma, _Structure2);\n\n\tfunction Grandma(owned) {\n\t\tbuildings__classCallCheck(this, Grandma);\n\n\t\treturn buildings__possibleConstructorReturn(this, _Structure2.call(this, {\n\t\t\towned: owned,\n\t\t\tbaseCost: 100,\n\t\t\tincrQuantity: 1,\n\t\t\tname: 'Grandma',\n\t\t\tpicture: 'grandma.svg',\n\t\t\tdesc: 'A nice grandma to bake more cookies.'\n\t\t}));\n\t}\n\n\treturn Grandma;\n}(Structure);\n\nvar Farm = function (_Structure3) {\n\tbuildings__inherits(Farm, _Structure3);\n\n\tfunction Farm(owned) {\n\t\tbuildings__classCallCheck(this, Farm);\n\n\t\treturn buildings__possibleConstructorReturn(this, _Structure3.call(this, {\n\t\t\towned: owned,\n\t\t\tbaseCost: 1100,\n\t\t\tincrQuantity: 8,\n\t\t\tname: 'Farm',\n\t\t\tpicture: 'farm.svg',\n\t\t\tdesc: 'Grows cookie plants from cookie seeds.'\n\t\t}));\n\t}\n\n\treturn Farm;\n}(Structure);\n\nvar Mine = function (_Structure4) {\n\tbuildings__inherits(Mine, _Structure4);\n\n\tfunction Mine(owned) {\n\t\tbuildings__classCallCheck(this, Mine);\n\n\t\treturn buildings__possibleConstructorReturn(this, _Structure4.call(this, {\n\t\t\towned: owned,\n\t\t\tbaseCost: 12000,\n\t\t\tincrQuantity: 47,\n\t\t\tname: 'Mine',\n\t\t\tpicture: 'mine.svg',\n\t\t\tdesc: 'Mines out cookie dough and chocolate chips.'\n\t\t}));\n\t}\n\n\treturn Mine;\n}(Structure);\n\nvar Factory = function (_Structure5) {\n\tbuildings__inherits(Factory, _Structure5);\n\n\tfunction Factory(owned) {\n\t\tbuildings__classCallCheck(this, Factory);\n\n\t\treturn buildings__possibleConstructorReturn(this, _Structure5.call(this, {\n\t\t\towned: owned,\n\t\t\tbaseCost: 130000,\n\t\t\tincrQuantity: 260,\n\t\t\tname: 'Factory',\n\t\t\tpicture: 'factory.svg',\n\t\t\tdesc: 'Produces large quantities of cookies.'\n\t\t}));\n\t}\n\n\treturn Factory;\n}(Structure);\n\n/* harmony default export */ var buildings = ({ Cursor: Cursor, Grandma: Grandma, Farm: Farm, Mine: Mine, Factory: Factory });\n// CONCATENATED MODULE: ./services/game/util.js\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\nvar util_getInitialState = function getInitialState() {\n\tvar Structures = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : buildings;\n\treturn {\n\t\tname: 'Bakery',\n\t\tcookiesQuantity: 0,\n\t\tcookiesDisplay: 0,\n\t\tcookiesPerClick: 1,\n\t\tbuildings: Object.keys(Structures).map(function (key) {\n\t\t\treturn new Structures[key]();\n\t\t})\n\t};\n};\n\nvar util_transformDbState = function transformDbState(state) {\n\tvar Structures = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : buildings;\n\treturn _extends({}, state, { buildings: state.buildings.map(function (dbBuilding) {\n\t\t\tvar CurrentStructure = Structures[dbBuilding.name];\n\t\t\tif (CurrentStructure) {\n\t\t\t\treturn _extends(new CurrentStructure(), dbBuilding);\n\t\t\t}\n\t\t}) });\n};\n// CONCATENATED MODULE: ./services/observable/events.js\n// events that could be observed\n\n// get whole app state\nvar APP_STATE_CHANGED = 'app_state_changed';\n// CONCATENATED MODULE: ./services/game/game.js\nfunction game__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n// GameService encapsulates game logic and serves as data store for whole app\n// By using it's methods you are changing global state\n// which is then automatically injected into `sub` prop\n// to all components that are inside SubscribeToState HOC\n\nvar game_GameService = function () {\n\tfunction GameService(_ref) {\n\t\tvar observable = _ref.observable,\n\t\t    state = _ref.state,\n\t\t    stateService = _ref.stateService,\n\t\t    dbService = _ref.dbService,\n\t\t    saveInterval = _ref.saveInterval;\n\n\t\tgame__classCallCheck(this, GameService);\n\n\t\t// dependencies\n\t\tthis.observable = observable;\n\t\tthis.state = state;\n\t\tthis.dbService = dbService;\n\n\t\t// init\n\t\tthis.calculateCookiesPerSecond();\n\t\tthis.startGame();\n\t\tthis.autoSave(saveInterval);\n\t}\n\n\t// save state to the Db on regular basis\n\n\n\tGameService.prototype.autoSave = function autoSave(seconds) {\n\t\tvar _this = this;\n\n\t\tsetInterval(function () {\n\t\t\treturn _this.dbService.write('state', _this.state);\n\t\t}, seconds * 1000);\n\t};\n\n\t// resetGame removes all saved data from db store and restores initial values\n\n\n\tGameService.prototype.resetGame = function resetGame() {\n\t\tthis.dbService.clear('state');\n\t\tthis.state = util_getInitialState();\n\t\tthis.calculateCookiesPerSecond();\n\t};\n\n\t// get cookies per second from every currently owned building and calculate global CpS.\n\n\n\tGameService.prototype.calculateCookiesPerSecond = function calculateCookiesPerSecond() {\n\t\tthis.state.cookiesPerSecond = this.state.buildings.map(function (building) {\n\t\t\treturn building.calculateCookiesPerSecond();\n\t\t}).reduce(function (acc, curr) {\n\t\t\treturn acc + curr;\n\t\t});\n\t};\n\n\t// start game loop\n\n\n\tGameService.prototype.startGame = function startGame() {\n\t\tvar _this2 = this;\n\n\t\t// `requestAnimationFrame` will stop it's execution after tab is blurred\n\t\t// but thanks to `delta` the right amount of cookies will be calculated\n\t\t// according to seconds passed since last frame\n\t\tvar timestamp = function timestamp() {\n\t\t\treturn window.performance && window.performance.now ? window.performance.now() : new Date().getTime();\n\t\t};\n\t\tvar now = void 0;\n\t\tvar delta = void 0;\n\t\tvar last = timestamp();\n\n\t\tvar frame = function frame() {\n\t\t\tnow = timestamp();\n\t\t\tdelta = (now - last) / 1000;\n\t\t\t_this2.update(delta);\n\t\t\t_this2.render();\n\t\t\tlast = now;\n\n\t\t\trequestAnimationFrame(frame);\n\t\t};\n\n\t\t// start loop\n\t\trequestAnimationFrame(frame);\n\t};\n\n\t// game logic\n\t// runs on every frame and on a request\n\n\n\tGameService.prototype.update = function update() {\n\t\tvar _this3 = this;\n\n\t\tvar secondsPassed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t// if seconds are passed in then add cookies for passed second\n\t\tif (secondsPassed) {\n\t\t\tthis.state.cookiesQuantity += this.state.cookiesPerSecond * secondsPassed;\n\t\t}\n\n\t\t// show whole cookies\n\t\tthis.state.cookiesDisplay = Math.floor(this.state.cookiesQuantity);\n\n\t\t// get current price of buildings\n\t\t// use whole cookies for calculcation to make it more sane for user\n\t\tthis.state.buildings.forEach(function (building) {\n\t\t\treturn building.checkIfAffordable(_this3.state.cookiesDisplay);\n\t\t});\n\t};\n\n\t// emit events that will instruct Preact to re-render DOM\n\n\n\tGameService.prototype.render = function render() {\n\t\t// inject new state into 'sub' prop of SubscribeToState's HOC children\n\t\tthis.observable.emitEvent(APP_STATE_CHANGED, this.state);\n\t};\n\n\t// if building is affordable then buy it, recalculate CpS and request update\n\n\n\tGameService.prototype.buyBuilding = function buyBuilding(name) {\n\t\tvar quantity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n\t\tvar building = this.state.buildings.find(function (building) {\n\t\t\treturn building.name === name;\n\t\t});\n\t\tvar price = building.buy(this.state.cookiesQuantity, quantity);\n\n\t\tif (price) {\n\t\t\tthis.state.cookiesQuantity = Math.ceil(10 * (this.state.cookiesQuantity - price)) / 10;\n\t\t\tthis.calculateCookiesPerSecond();\n\t\t\tthis.requestRefresh();\n\t\t}\n\t};\n\n\t// click on a cookie\n\n\n\tGameService.prototype.click = function click() {\n\t\tvar num = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.cookiesPerClick;\n\n\t\tthis.state.cookiesQuantity += num;\n\t\tthis.requestRefresh();\n\t};\n\n\tGameService.prototype.requestRefresh = function requestRefresh() {\n\t\tthis.update();\n\t\tthis.render();\n\t};\n\n\treturn GameService;\n}();\n\n\n// CONCATENATED MODULE: ./services/database/db.js\nfunction db__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// DbService takes care of DB operations on state\nvar DbService = function () {\n\tfunction DbService(_ref) {\n\t\tvar driver = _ref.driver,\n\t\t    name = _ref.name,\n\t\t    stores = _ref.stores,\n\t\t    version = _ref.version;\n\n\t\tdb__classCallCheck(this, DbService);\n\n\t\tthis.driver = driver;\n\n\t\tif ('indexedDB' in window || \"production\") {\n\t\t\tthis.dbPromise = this.createDatabase(name, stores, version = 1);\n\t\t} else {\n\t\t\t//eslint-disable-next-line\n\t\t\twindow.alert('To save your cookies you need to use newer browser!');\n\t\t}\n\t}\n\n\tDbService.prototype.createDatabase = function createDatabase(name, stores) {\n\t\tvar version = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n\t\treturn this.driver.open(name, version, function (db) {\n\t\t\tstores.forEach(function (_ref2) {\n\t\t\t\tvar store = _ref2.store,\n\t\t\t\t    key = _ref2.key;\n\n\t\t\t\t!db.objectStoreNames.contains(store) && db.createObjectStore(store, { keyPath: key });\n\t\t\t});\n\t\t});\n\t};\n\n\tDbService.prototype.write = function write(store, data) {\n\t\treturn this.dbPromise.then(function (db) {\n\t\t\tvar transaction = db.transaction(store, 'readwrite').objectStore(store).put(data);\n\n\t\t\treturn transaction.complete;\n\t\t});\n\t};\n\n\tDbService.prototype.readAll = function readAll(store) {\n\t\treturn this.dbPromise.then(function (db) {\n\t\t\treturn db.transaction(store, 'readonly').objectStore(store).getAll();\n\t\t});\n\t};\n\n\tDbService.prototype.clear = function clear(store) {\n\t\treturn this.dbPromise.then(function (db) {\n\t\t\tvar transaction = db.transaction(store, 'readwrite').objectStore(store).clear();\n\n\t\t\treturn transaction.complete;\n\t\t});\n\t};\n\n\treturn DbService;\n}();\n\n\n// CONCATENATED MODULE: ./services/index.js\n\n\n\n\n\n\n// inject dependencies and initialize the app\n\nvar app = void 0;\nvar observable = new ObservableService();\n\nvar dbService = new DbService({\n\tdriver: idb_default.a,\n\tname: 'cookie-clicker-db',\n\tstores: [{ store: 'state', key: 'name' }]\n});\n\ndbService.readAll('state').then(function (state) {\n\tapp = new game_GameService({\n\t\tobservable: observable,\n\t\tdbService: dbService,\n\t\tsaveInterval: 2,\n\t\tstate: !state || state.length <= 0 ? util_getInitialState() : util_transformDbState(state[0])\n\t});\n});\n// CONCATENATED MODULE: ./components/common/subscribe-to.jsx\n\n\n\n\n\n\n// SubscribeToState is a higher order component that injects global app state into props of it's children\n// It is triggered by APP_STATE_CHANGED event\nvar subscribe_to_SubscribeToState = function SubscribeToState(_ref) {\n\tvar children = _ref.children;\n\treturn Object(preact_min[\"h\"])(\n\t\tsubscribe,\n\t\t{ to: APP_STATE_CHANGED, from: observable },\n\t\tchildren\n\t);\n};\n// EXTERNAL MODULE: ./components/stats/style.css\nvar stats_style = __webpack_require__(\"xjId\");\nvar stats_style_default = /*#__PURE__*/__webpack_require__.n(stats_style);\n\n// CONCATENATED MODULE: ./components/stats/index.jsx\n\n\n\n\nvar stats_Stats = function Stats(_ref) {\n\tvar sub = _ref.sub;\n\treturn Object(preact_min[\"h\"])(\n\t\t'header',\n\t\t{ 'class': stats_style_default.a.stats },\n\t\tObject(preact_min[\"h\"])(\n\t\t\t'h1',\n\t\t\tnull,\n\t\t\tsub && sub.name\n\t\t),\n\t\tObject(preact_min[\"h\"])(\n\t\t\t'span',\n\t\t\t{ 'class': stats_style_default.a.cps },\n\t\t\t'cookies baked so far:'\n\t\t),\n\t\tObject(preact_min[\"h\"])(\n\t\t\t'span',\n\t\t\t{ 'class': stats_style_default.a.quantity },\n\t\t\tsub && sub.cookiesDisplay\n\t\t),\n\t\tObject(preact_min[\"h\"])(\n\t\t\t'span',\n\t\t\t{ 'class': stats_style_default.a.cps },\n\t\t\t'per second: ',\n\t\t\tsub && sub.cookiesPerSecond\n\t\t)\n\t);\n};\n\n/* harmony default export */ var stats = (stats_Stats);\n// EXTERNAL MODULE: ./components/cookie/style.css\nvar cookie_style = __webpack_require__(\"e5AH\");\nvar cookie_style_default = /*#__PURE__*/__webpack_require__.n(cookie_style);\n\n// EXTERNAL MODULE: ./assets/images/cookie.svg\nvar cookie = __webpack_require__(\"osaz\");\nvar cookie_default = /*#__PURE__*/__webpack_require__.n(cookie);\n\n// CONCATENATED MODULE: ./components/cookie/index.jsx\n\n\n\n\n\n\n\nvar cookie_clickHandler = function clickHandler() {\n\treturn app.click();\n};\n\nvar cookie__ref2 = Object(preact_min[\"h\"])('img', { src: cookie_default.a, alt: 'cookie' });\n\nvar cookie_Cookie = function Cookie(_ref) {\n\tvar sub = _ref.sub;\n\treturn Object(preact_min[\"h\"])(\n\t\t'button',\n\t\t{ 'class': cookie_style_default.a.cookie, onClick: cookie_clickHandler },\n\t\tcookie__ref2\n\t);\n};\n\n/* harmony default export */ var components_cookie = (cookie_Cookie);\n// CONCATENATED MODULE: ./components/cookie-container/index.jsx\n\n\n// import style from './style';\n\n\n\n\n\nvar cookie_container__ref = Object(preact_min[\"h\"])(\n\t'div',\n\tnull,\n\tObject(preact_min[\"h\"])(\n\t\tsubscribe_to_SubscribeToState,\n\t\tnull,\n\t\tObject(preact_min[\"h\"])(stats, null)\n\t),\n\tObject(preact_min[\"h\"])(components_cookie, null)\n);\n\nvar CookieContainer = function CookieContainer() {\n\treturn cookie_container__ref;\n};\n\n/* harmony default export */ var cookie_container = (CookieContainer);\n// EXTERNAL MODULE: ./components/store/style.css\nvar store_style = __webpack_require__(\"JCeB\");\nvar store_style_default = /*#__PURE__*/__webpack_require__.n(store_style);\n\n// CONCATENATED MODULE: ./components/store/index.jsx\n\n\n\n// import images from '../../assets/images/buildings';\n\n\n\nvar store__ref2 = Object(preact_min[\"h\"])(\n\t'h2',\n\tnull,\n\t'Recipes to bake more cookies'\n);\n\nvar store_Store = function Store(_ref) {\n\tvar sub = _ref.sub;\n\treturn Object(preact_min[\"h\"])(\n\t\t'div',\n\t\t{ 'class': store_style_default.a.store },\n\t\tstore__ref2,\n\t\tObject(preact_min[\"h\"])(\n\t\t\t'ul',\n\t\t\t{ 'class': store_style_default.a.storeList },\n\t\t\tsub && sub.buildings.map(function (_ref3) {\n\t\t\t\tvar name = _ref3.name,\n\t\t\t\t    owned = _ref3.owned,\n\t\t\t\t    affordable = _ref3.affordable,\n\t\t\t\t    cookiesPerSecond = _ref3.cookiesPerSecond,\n\t\t\t\t    price = _ref3.price,\n\t\t\t\t    picture = _ref3.picture,\n\t\t\t\t    desc = _ref3.desc,\n\t\t\t\t    incrQuantity = _ref3.incrQuantity,\n\t\t\t\t    refreshRate = _ref3.refreshRate;\n\n\t\t\t\tvar buy = function buy() {\n\t\t\t\t\treturn app.buyBuilding(name, 1);\n\t\t\t\t};\n\t\t\t\t// console.log(images);\n\t\t\t\treturn Object(preact_min[\"h\"])(\n\t\t\t\t\t'li',\n\t\t\t\t\t{\n\t\t\t\t\t\t'class': affordable ? store_style_default.a.active : store_style_default.a.blocked,\n\t\t\t\t\t\tonClick: buy,\n\t\t\t\t\t\tkey: name\n\t\t\t\t\t},\n\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t'h2',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tname\n\t\t\t\t\t),\n\t\t\t\t\tObject(preact_min[\"h\"])('img', { 'class': store_style_default.a.icon, src: __webpack_require__(\"t0pj\")(\"./\" + picture), alt: name }),\n\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Owned: ',\n\t\t\t\t\t\towned\n\t\t\t\t\t),\n\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Price: ',\n\t\t\t\t\t\tprice\n\t\t\t\t\t),\n\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tdesc\n\t\t\t\t\t),\n\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Each ',\n\t\t\t\t\t\tname,\n\t\t\t\t\t\t' produces ',\n\t\t\t\t\t\tincrQuantity * refreshRate,\n\t\t\t\t\t\t' cookies/second'\n\t\t\t\t\t),\n\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'All ',\n\t\t\t\t\t\tname,\n\t\t\t\t\t\t's produces ',\n\t\t\t\t\t\tcookiesPerSecond,\n\t\t\t\t\t\t' cookies/second'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t})\n\t\t)\n\t);\n};\n\n/* harmony default export */ var store = (store_Store);\n// CONCATENATED MODULE: ./components/store-container/index.jsx\n\n\n\n\n\n\nvar store_container__ref = Object(preact_min[\"h\"])(\n\tsubscribe_to_SubscribeToState,\n\tnull,\n\tObject(preact_min[\"h\"])(store, null)\n);\n\nvar StoreContainer = function StoreContainer() {\n\treturn store_container__ref;\n};\n\n/* harmony default export */ var store_container = (StoreContainer);\n// CONCATENATED MODULE: ./components/main/index.jsx\n\n\n\n\n// components\n\n\n\nvar main__ref = Object(preact_min[\"h\"])(cookie_container, null);\n\nvar main__ref2 = Object(preact_min[\"h\"])(store_container, null);\n\nvar main_Main = function Main() {\n\treturn Object(preact_min[\"h\"])(\n\t\t'main',\n\t\t{ 'class': main_style_default.a.main },\n\t\tmain__ref,\n\t\tmain__ref2\n\t);\n};\n\n/* harmony default export */ var main = (main_Main);\n// CONCATENATED MODULE: ./components/footer/index.jsx\n\n\nfunction footer__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\nvar footer__ref = Object(preact_min[\"h\"])(\n\t'a',\n\t{\n\t\thref: 'http://www.freepik.com',\n\t\ttitle: 'Freepik'\n\t},\n\t'Freepik'\n);\n\nvar footer__ref2 = Object(preact_min[\"h\"])(\n\t'a',\n\t{\n\t\thref: 'https://www.flaticon.com/authors/dimitry-miroliubov',\n\t\ttitle: 'Dimitry Miroliubov'\n\t},\n\t'Dimitry Miroliubov'\n);\n\nvar footer__ref3 = Object(preact_min[\"h\"])(\n\t'a',\n\t{\n\t\thref: 'https://www.flaticon.com/authors/popcorns-arts',\n\t\ttitle: 'Icon Pond'\n\t},\n\t'Icon Pond'\n);\n\nvar _ref4 = Object(preact_min[\"h\"])(\n\t'a',\n\t{ href: 'https://www.flaticon.com/', title: 'Flaticon' },\n\t'www.flaticon.com'\n);\n\nvar _ref5 = Object(preact_min[\"h\"])(\n\t'a',\n\t{\n\t\thref: 'http://creativecommons.org/licenses/by/3.0/',\n\t\ttitle: 'Creative Commons BY 3.0',\n\t\ttarget: '_blank',\n\t\trel: 'noopener noreferrer'\n\t},\n\t'CC 3.0 BY'\n);\n\nvar footer_Footer = function () {\n\tfunction Footer() {\n\t\tfooter__classCallCheck(this, Footer);\n\n\t\tthis.resetHandler = function () {\n\t\t\treturn app.resetGame();\n\t\t};\n\t}\n\n\tFooter.prototype.render = function render() {\n\t\treturn Object(preact_min[\"h\"])(\n\t\t\t'footer',\n\t\t\tnull,\n\t\t\t'Icons made by',\n\t\t\tfooter__ref,\n\t\t\t',',\n\t\t\tfooter__ref2,\n\t\t\t',',\n\t\t\tfooter__ref3,\n\t\t\t'from',\n\t\t\t_ref4,\n\t\t\t' are licensed by',\n\t\t\t_ref5,\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'button',\n\t\t\t\t{ onClick: this.resetHandler },\n\t\t\t\t'reset'\n\t\t\t)\n\t\t);\n\t};\n\n\treturn Footer;\n}();\n\n/* harmony default export */ var footer = (footer_Footer);\n// CONCATENATED MODULE: ./components/app.jsx\n\n\n\n// components\n\n\n\nvar app__ref = Object(preact_min[\"h\"])(\n\t'div',\n\t{ id: 'app' },\n\tObject(preact_min[\"h\"])(main, null),\n\tObject(preact_min[\"h\"])(footer, null)\n);\n\nvar App = function App() {\n\treturn app__ref;\n};\n\n/* harmony default export */ var components_app = (App);\n// CONCATENATED MODULE: ./index.js\n\n\n\n/* harmony default export */ var index = __webpack_exports__[\"default\"] = (components_app);\n\n/***/ }),\n\n/***/ \"KM04\":\n/***/ (function(module, exports, __webpack_require__) {\n\n!function () {\n  \"use strict\";\n  function e() {}function t(t, n) {\n    var o,\n        r,\n        i,\n        l,\n        a = E;for (l = arguments.length; l-- > 2;) {\n      W.push(arguments[l]);\n    }n && null != n.children && (W.length || W.push(n.children), delete n.children);while (W.length) {\n      if ((r = W.pop()) && void 0 !== r.pop) for (l = r.length; l--;) {\n        W.push(r[l]);\n      } else \"boolean\" == typeof r && (r = null), (i = \"function\" != typeof t) && (null == r ? r = \"\" : \"number\" == typeof r ? r += \"\" : \"string\" != typeof r && (i = !1)), i && o ? a[a.length - 1] += r : a === E ? a = [r] : a.push(r), o = i;\n    }var u = new e();return u.nodeName = t, u.children = a, u.attributes = null == n ? void 0 : n, u.key = null == n ? void 0 : n.key, void 0 !== S.vnode && S.vnode(u), u;\n  }function n(e, t) {\n    for (var n in t) {\n      e[n] = t[n];\n    }return e;\n  }function o(e, o) {\n    return t(e.nodeName, n(n({}, e.attributes), o), arguments.length > 2 ? [].slice.call(arguments, 2) : e.children);\n  }function r(e) {\n    !e.__d && (e.__d = !0) && 1 == A.push(e) && (S.debounceRendering || P)(i);\n  }function i() {\n    var e,\n        t = A;A = [];while (e = t.pop()) {\n      e.__d && k(e);\n    }\n  }function l(e, t, n) {\n    return \"string\" == typeof t || \"number\" == typeof t ? void 0 !== e.splitText : \"string\" == typeof t.nodeName ? !e._componentConstructor && a(e, t.nodeName) : n || e._componentConstructor === t.nodeName;\n  }function a(e, t) {\n    return e.__n === t || e.nodeName.toLowerCase() === t.toLowerCase();\n  }function u(e) {\n    var t = n({}, e.attributes);t.children = e.children;var o = e.nodeName.defaultProps;if (void 0 !== o) for (var r in o) {\n      void 0 === t[r] && (t[r] = o[r]);\n    }return t;\n  }function _(e, t) {\n    var n = t ? document.createElementNS(\"http://www.w3.org/2000/svg\", e) : document.createElement(e);return n.__n = e, n;\n  }function p(e) {\n    var t = e.parentNode;t && t.removeChild(e);\n  }function c(e, t, n, o, r) {\n    if (\"className\" === t && (t = \"class\"), \"key\" === t) ;else if (\"ref\" === t) n && n(null), o && o(e);else if (\"class\" !== t || r) {\n      if (\"style\" === t) {\n        if (o && \"string\" != typeof o && \"string\" != typeof n || (e.style.cssText = o || \"\"), o && \"object\" == typeof o) {\n          if (\"string\" != typeof n) for (var i in n) {\n            i in o || (e.style[i] = \"\");\n          }for (var i in o) {\n            e.style[i] = \"number\" == typeof o[i] && !1 === V.test(i) ? o[i] + \"px\" : o[i];\n          }\n        }\n      } else if (\"dangerouslySetInnerHTML\" === t) o && (e.innerHTML = o.__html || \"\");else if (\"o\" == t[0] && \"n\" == t[1]) {\n        var l = t !== (t = t.replace(/Capture$/, \"\"));t = t.toLowerCase().substring(2), o ? n || e.addEventListener(t, f, l) : e.removeEventListener(t, f, l), (e.__l || (e.__l = {}))[t] = o;\n      } else if (\"list\" !== t && \"type\" !== t && !r && t in e) s(e, t, null == o ? \"\" : o), null != o && !1 !== o || e.removeAttribute(t);else {\n        var a = r && t !== (t = t.replace(/^xlink\\:?/, \"\"));null == o || !1 === o ? a ? e.removeAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase()) : e.removeAttribute(t) : \"function\" != typeof o && (a ? e.setAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase(), o) : e.setAttribute(t, o));\n      }\n    } else e.className = o || \"\";\n  }function s(e, t, n) {\n    try {\n      e[t] = n;\n    } catch (e) {}\n  }function f(e) {\n    return this.__l[e.type](S.event && S.event(e) || e);\n  }function d() {\n    var e;while (e = D.pop()) {\n      S.afterMount && S.afterMount(e), e.componentDidMount && e.componentDidMount();\n    }\n  }function h(e, t, n, o, r, i) {\n    H++ || (R = null != r && void 0 !== r.ownerSVGElement, j = null != e && !(\"__preactattr_\" in e));var l = m(e, t, n, o, i);return r && l.parentNode !== r && r.appendChild(l), --H || (j = !1, i || d()), l;\n  }function m(e, t, n, o, r) {\n    var i = e,\n        l = R;if (null != t && \"boolean\" != typeof t || (t = \"\"), \"string\" == typeof t || \"number\" == typeof t) return e && void 0 !== e.splitText && e.parentNode && (!e._component || r) ? e.nodeValue != t && (e.nodeValue = t) : (i = document.createTextNode(t), e && (e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0))), i.__preactattr_ = !0, i;var u = t.nodeName;if (\"function\" == typeof u) return U(e, t, n, o);if (R = \"svg\" === u || \"foreignObject\" !== u && R, u += \"\", (!e || !a(e, u)) && (i = _(u, R), e)) {\n      while (e.firstChild) {\n        i.appendChild(e.firstChild);\n      }e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0);\n    }var p = i.firstChild,\n        c = i.__preactattr_,\n        s = t.children;if (null == c) {\n      c = i.__preactattr_ = {};for (var f = i.attributes, d = f.length; d--;) {\n        c[f[d].name] = f[d].value;\n      }\n    }return !j && s && 1 === s.length && \"string\" == typeof s[0] && null != p && void 0 !== p.splitText && null == p.nextSibling ? p.nodeValue != s[0] && (p.nodeValue = s[0]) : (s && s.length || null != p) && v(i, s, n, o, j || null != c.dangerouslySetInnerHTML), g(i, t.attributes, c), R = l, i;\n  }function v(e, t, n, o, r) {\n    var i,\n        a,\n        u,\n        _,\n        c,\n        s = e.childNodes,\n        f = [],\n        d = {},\n        h = 0,\n        v = 0,\n        y = s.length,\n        g = 0,\n        w = t ? t.length : 0;if (0 !== y) for (var C = 0; C < y; C++) {\n      var x = s[C],\n          N = x.__preactattr_,\n          k = w && N ? x._component ? x._component.__k : N.key : null;null != k ? (h++, d[k] = x) : (N || (void 0 !== x.splitText ? !r || x.nodeValue.trim() : r)) && (f[g++] = x);\n    }if (0 !== w) for (var C = 0; C < w; C++) {\n      _ = t[C], c = null;var k = _.key;if (null != k) h && void 0 !== d[k] && (c = d[k], d[k] = void 0, h--);else if (!c && v < g) for (i = v; i < g; i++) {\n        if (void 0 !== f[i] && l(a = f[i], _, r)) {\n          c = a, f[i] = void 0, i === g - 1 && g--, i === v && v++;break;\n        }\n      }c = m(c, _, n, o), u = s[C], c && c !== e && c !== u && (null == u ? e.appendChild(c) : c === u.nextSibling ? p(u) : e.insertBefore(c, u));\n    }if (h) for (var C in d) {\n      void 0 !== d[C] && b(d[C], !1);\n    }while (v <= g) {\n      void 0 !== (c = f[g--]) && b(c, !1);\n    }\n  }function b(e, t) {\n    var n = e._component;n ? L(n) : (null != e.__preactattr_ && e.__preactattr_.ref && e.__preactattr_.ref(null), !1 !== t && null != e.__preactattr_ || p(e), y(e));\n  }function y(e) {\n    e = e.lastChild;while (e) {\n      var t = e.previousSibling;b(e, !0), e = t;\n    }\n  }function g(e, t, n) {\n    var o;for (o in n) {\n      t && null != t[o] || null == n[o] || c(e, o, n[o], n[o] = void 0, R);\n    }for (o in t) {\n      \"children\" === o || \"innerHTML\" === o || o in n && t[o] === (\"value\" === o || \"checked\" === o ? e[o] : n[o]) || c(e, o, n[o], n[o] = t[o], R);\n    }\n  }function w(e) {\n    var t = e.constructor.name;(I[t] || (I[t] = [])).push(e);\n  }function C(e, t, n) {\n    var o,\n        r = I[e.name];if (e.prototype && e.prototype.render ? (o = new e(t, n), T.call(o, t, n)) : (o = new T(t, n), o.constructor = e, o.render = x), r) for (var i = r.length; i--;) {\n      if (r[i].constructor === e) {\n        o.__b = r[i].__b, r.splice(i, 1);break;\n      }\n    }return o;\n  }function x(e, t, n) {\n    return this.constructor(e, n);\n  }function N(e, t, n, o, i) {\n    e.__x || (e.__x = !0, (e.__r = t.ref) && delete t.ref, (e.__k = t.key) && delete t.key, !e.base || i ? e.componentWillMount && e.componentWillMount() : e.componentWillReceiveProps && e.componentWillReceiveProps(t, o), o && o !== e.context && (e.__c || (e.__c = e.context), e.context = o), e.__p || (e.__p = e.props), e.props = t, e.__x = !1, 0 !== n && (1 !== n && !1 === S.syncComponentUpdates && e.base ? r(e) : k(e, 1, i)), e.__r && e.__r(e));\n  }function k(e, t, o, r) {\n    if (!e.__x) {\n      var i,\n          l,\n          a,\n          _ = e.props,\n          p = e.state,\n          c = e.context,\n          s = e.__p || _,\n          f = e.__s || p,\n          m = e.__c || c,\n          v = e.base,\n          y = e.__b,\n          g = v || y,\n          w = e._component,\n          x = !1;if (v && (e.props = s, e.state = f, e.context = m, 2 !== t && e.shouldComponentUpdate && !1 === e.shouldComponentUpdate(_, p, c) ? x = !0 : e.componentWillUpdate && e.componentWillUpdate(_, p, c), e.props = _, e.state = p, e.context = c), e.__p = e.__s = e.__c = e.__b = null, e.__d = !1, !x) {\n        i = e.render(_, p, c), e.getChildContext && (c = n(n({}, c), e.getChildContext()));var U,\n            T,\n            M = i && i.nodeName;if (\"function\" == typeof M) {\n          var W = u(i);l = w, l && l.constructor === M && W.key == l.__k ? N(l, W, 1, c, !1) : (U = l, e._component = l = C(M, W, c), l.__b = l.__b || y, l.__u = e, N(l, W, 0, c, !1), k(l, 1, o, !0)), T = l.base;\n        } else a = g, U = w, U && (a = e._component = null), (g || 1 === t) && (a && (a._component = null), T = h(a, i, c, o || !v, g && g.parentNode, !0));if (g && T !== g && l !== w) {\n          var E = g.parentNode;E && T !== E && (E.replaceChild(T, g), U || (g._component = null, b(g, !1)));\n        }if (U && L(U), e.base = T, T && !r) {\n          var P = e,\n              V = e;while (V = V.__u) {\n            (P = V).base = T;\n          }T._component = P, T._componentConstructor = P.constructor;\n        }\n      }if (!v || o ? D.unshift(e) : x || (e.componentDidUpdate && e.componentDidUpdate(s, f, m), S.afterUpdate && S.afterUpdate(e)), null != e.__h) while (e.__h.length) {\n        e.__h.pop().call(e);\n      }H || r || d();\n    }\n  }function U(e, t, n, o) {\n    var r = e && e._component,\n        i = r,\n        l = e,\n        a = r && e._componentConstructor === t.nodeName,\n        _ = a,\n        p = u(t);while (r && !_ && (r = r.__u)) {\n      _ = r.constructor === t.nodeName;\n    }return r && _ && (!o || r._component) ? (N(r, p, 3, n, o), e = r.base) : (i && !a && (L(i), e = l = null), r = C(t.nodeName, p, n), e && !r.__b && (r.__b = e, l = null), N(r, p, 1, n, o), e = r.base, l && e !== l && (l._component = null, b(l, !1))), e;\n  }function L(e) {\n    S.beforeUnmount && S.beforeUnmount(e);var t = e.base;e.__x = !0, e.componentWillUnmount && e.componentWillUnmount(), e.base = null;var n = e._component;n ? L(n) : t && (t.__preactattr_ && t.__preactattr_.ref && t.__preactattr_.ref(null), e.__b = t, p(t), w(e), y(t)), e.__r && e.__r(null);\n  }function T(e, t) {\n    this.__d = !0, this.context = t, this.props = e, this.state = this.state || {};\n  }function M(e, t, n) {\n    return h(n, e, {}, !1, t, !1);\n  }var S = {},\n      W = [],\n      E = [],\n      P = \"function\" == typeof Promise ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout,\n      V = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,\n      A = [],\n      D = [],\n      H = 0,\n      R = !1,\n      j = !1,\n      I = {};n(T.prototype, { setState: function setState(e, t) {\n      var o = this.state;this.__s || (this.__s = n({}, o)), n(o, \"function\" == typeof e ? e(o, this.props) : e), t && (this.__h = this.__h || []).push(t), r(this);\n    }, forceUpdate: function forceUpdate(e) {\n      e && (this.__h = this.__h || []).push(e), k(this, 2);\n    }, render: function render() {} });var $ = { h: t, createElement: t, cloneElement: o, Component: T, render: M, rerender: i, options: S }; true ? module.exports = $ : self.preact = $;\n}();\n//# sourceMappingURL=preact.min.js.map\n\n/***/ }),\n\n/***/ \"La2c\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"baffd8e5debad62df4b0a4560b2773d3.svg\";\n\n/***/ }),\n\n/***/ \"PUFR\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"85b1777ba767a88605d9cfd9acda8455.svg\";\n\n/***/ }),\n\n/***/ \"Rts4\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"e20a4d9b92a07d26d50a01a5c3ba0430.svg\";\n\n/***/ }),\n\n/***/ \"STmO\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"main\":\"main__or-Vq\"};\n\n/***/ }),\n\n/***/ \"e5AH\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"cookie\":\"cookie__1AJma\"};\n\n/***/ }),\n\n/***/ \"enoJ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n(function () {\n  function toArray(arr) {\n    return Array.prototype.slice.call(arr);\n  }\n\n  function promisifyRequest(request) {\n    return new Promise(function (resolve, reject) {\n      request.onsuccess = function () {\n        resolve(request.result);\n      };\n\n      request.onerror = function () {\n        reject(request.error);\n      };\n    });\n  }\n\n  function promisifyRequestCall(obj, method, args) {\n    var request;\n    var p = new Promise(function (resolve, reject) {\n      request = obj[method].apply(obj, args);\n      promisifyRequest(request).then(resolve, reject);\n    });\n\n    p.request = request;\n    return p;\n  }\n\n  function promisifyCursorRequestCall(obj, method, args) {\n    var p = promisifyRequestCall(obj, method, args);\n    return p.then(function (value) {\n      if (!value) return;\n      return new Cursor(value, p.request);\n    });\n  }\n\n  function proxyProperties(ProxyClass, targetProp, properties) {\n    properties.forEach(function (prop) {\n      Object.defineProperty(ProxyClass.prototype, prop, {\n        get: function get() {\n          return this[targetProp][prop];\n        },\n        set: function set(val) {\n          this[targetProp][prop] = val;\n        }\n      });\n    });\n  }\n\n  function proxyRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function (prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function () {\n        return promisifyRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function proxyMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function (prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function () {\n        return this[targetProp][prop].apply(this[targetProp], arguments);\n      };\n    });\n  }\n\n  function proxyCursorRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function (prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function () {\n        return promisifyCursorRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function Index(index) {\n    this._index = index;\n  }\n\n  proxyProperties(Index, '_index', ['name', 'keyPath', 'multiEntry', 'unique']);\n\n  proxyRequestMethods(Index, '_index', IDBIndex, ['get', 'getKey', 'getAll', 'getAllKeys', 'count']);\n\n  proxyCursorRequestMethods(Index, '_index', IDBIndex, ['openCursor', 'openKeyCursor']);\n\n  function Cursor(cursor, request) {\n    this._cursor = cursor;\n    this._request = request;\n  }\n\n  proxyProperties(Cursor, '_cursor', ['direction', 'key', 'primaryKey', 'value']);\n\n  proxyRequestMethods(Cursor, '_cursor', IDBCursor, ['update', 'delete']);\n\n  // proxy 'next' methods\n  ['advance', 'continue', 'continuePrimaryKey'].forEach(function (methodName) {\n    if (!(methodName in IDBCursor.prototype)) return;\n    Cursor.prototype[methodName] = function () {\n      var cursor = this;\n      var args = arguments;\n      return Promise.resolve().then(function () {\n        cursor._cursor[methodName].apply(cursor._cursor, args);\n        return promisifyRequest(cursor._request).then(function (value) {\n          if (!value) return;\n          return new Cursor(value, cursor._request);\n        });\n      });\n    };\n  });\n\n  function ObjectStore(store) {\n    this._store = store;\n  }\n\n  ObjectStore.prototype.createIndex = function () {\n    return new Index(this._store.createIndex.apply(this._store, arguments));\n  };\n\n  ObjectStore.prototype.index = function () {\n    return new Index(this._store.index.apply(this._store, arguments));\n  };\n\n  proxyProperties(ObjectStore, '_store', ['name', 'keyPath', 'indexNames', 'autoIncrement']);\n\n  proxyRequestMethods(ObjectStore, '_store', IDBObjectStore, ['put', 'add', 'delete', 'clear', 'get', 'getAll', 'getKey', 'getAllKeys', 'count']);\n\n  proxyCursorRequestMethods(ObjectStore, '_store', IDBObjectStore, ['openCursor', 'openKeyCursor']);\n\n  proxyMethods(ObjectStore, '_store', IDBObjectStore, ['deleteIndex']);\n\n  function Transaction(idbTransaction) {\n    this._tx = idbTransaction;\n    this.complete = new Promise(function (resolve, reject) {\n      idbTransaction.oncomplete = function () {\n        resolve();\n      };\n      idbTransaction.onerror = function () {\n        reject(idbTransaction.error);\n      };\n      idbTransaction.onabort = function () {\n        reject(idbTransaction.error);\n      };\n    });\n  }\n\n  Transaction.prototype.objectStore = function () {\n    return new ObjectStore(this._tx.objectStore.apply(this._tx, arguments));\n  };\n\n  proxyProperties(Transaction, '_tx', ['objectStoreNames', 'mode']);\n\n  proxyMethods(Transaction, '_tx', IDBTransaction, ['abort']);\n\n  function UpgradeDB(db, oldVersion, transaction) {\n    this._db = db;\n    this.oldVersion = oldVersion;\n    this.transaction = new Transaction(transaction);\n  }\n\n  UpgradeDB.prototype.createObjectStore = function () {\n    return new ObjectStore(this._db.createObjectStore.apply(this._db, arguments));\n  };\n\n  proxyProperties(UpgradeDB, '_db', ['name', 'version', 'objectStoreNames']);\n\n  proxyMethods(UpgradeDB, '_db', IDBDatabase, ['deleteObjectStore', 'close']);\n\n  function DB(db) {\n    this._db = db;\n  }\n\n  DB.prototype.transaction = function () {\n    return new Transaction(this._db.transaction.apply(this._db, arguments));\n  };\n\n  proxyProperties(DB, '_db', ['name', 'version', 'objectStoreNames']);\n\n  proxyMethods(DB, '_db', IDBDatabase, ['close']);\n\n  // Add cursor iterators\n  // TODO: remove this once browsers do the right thing with promises\n  ['openCursor', 'openKeyCursor'].forEach(function (funcName) {\n    [ObjectStore, Index].forEach(function (Constructor) {\n      Constructor.prototype[funcName.replace('open', 'iterate')] = function () {\n        var args = toArray(arguments);\n        var callback = args[args.length - 1];\n        var nativeObject = this._store || this._index;\n        var request = nativeObject[funcName].apply(nativeObject, args.slice(0, -1));\n        request.onsuccess = function () {\n          callback(request.result);\n        };\n      };\n    });\n  });\n\n  // polyfill getAll\n  [Index, ObjectStore].forEach(function (Constructor) {\n    if (Constructor.prototype.getAll) return;\n    Constructor.prototype.getAll = function (query, count) {\n      var instance = this;\n      var items = [];\n\n      return new Promise(function (resolve) {\n        instance.iterateCursor(query, function (cursor) {\n          if (!cursor) {\n            resolve(items);\n            return;\n          }\n          items.push(cursor.value);\n\n          if (count !== undefined && items.length == count) {\n            resolve(items);\n            return;\n          }\n          cursor.continue();\n        });\n      });\n    };\n  });\n\n  var exp = {\n    open: function open(name, version, upgradeCallback) {\n      var p = promisifyRequestCall(indexedDB, 'open', [name, version]);\n      var request = p.request;\n\n      request.onupgradeneeded = function (event) {\n        if (upgradeCallback) {\n          upgradeCallback(new UpgradeDB(request.result, event.oldVersion, request.transaction));\n        }\n      };\n\n      return p.then(function (db) {\n        return new DB(db);\n      });\n    },\n    delete: function _delete(name) {\n      return promisifyRequestCall(indexedDB, 'deleteDatabase', [name]);\n    }\n  };\n\n  if (true) {\n    module.exports = exp;\n    module.exports.default = module.exports;\n  } else {\n    self.idb = exp;\n  }\n})();\n\n/***/ }),\n\n/***/ \"l6RX\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"55121e8287c1d4e86ea8109851a1e5d8.svg\";\n\n/***/ }),\n\n/***/ \"oN5R\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"55cc9c47d114b41b719bada8444a4bfc.svg\";\n\n/***/ }),\n\n/***/ \"osaz\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"aa073a0fc198609c3d41a4991b6f127b.svg\";\n\n/***/ }),\n\n/***/ \"pwNi\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _preact = __webpack_require__(\"KM04\");\n\nif (false) {\n\trequire('preact/devtools');\n} else if (true && 'serviceWorker' in navigator && location.protocol === 'https:') {\n\tnavigator.serviceWorker.register(__webpack_require__.p + 'sw.js');\n}\n\nvar interopDefault = function interopDefault(m) {\n\treturn m && m.default ? m.default : m;\n};\n\nvar app = interopDefault(__webpack_require__(\"JkW7\"));\n\nif (typeof app === 'function') {\n\tvar root = document.body.firstElementChild;\n\n\tvar init = function init() {\n\t\tvar app = interopDefault(__webpack_require__(\"JkW7\"));\n\t\troot = (0, _preact.render)((0, _preact.h)(app), document.body, root);\n\t};\n\n\tif (false) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n\n/***/ }),\n\n/***/ \"rq4c\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"t0pj\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./cursor.svg\": \"oN5R\",\n\t\"./factory.svg\": \"La2c\",\n\t\"./farm.svg\": \"l6RX\",\n\t\"./grandma.svg\": \"Rts4\",\n\t\"./mine.svg\": \"PUFR\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"t0pj\";\n\n/***/ }),\n\n/***/ \"xjId\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"stats\":\"stats__1F7Gk\",\"quantity\":\"quantity__r7wAw\",\"cps\":\"cps__2zzZn\"};\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// bundle.87eb4.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/cookie-clicker/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"pwNi\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e61d3e13e772bcffa498","// removed by extract-text-webpack-plugin\nmodule.exports = {\"store\":\"store__2YQhv\",\"storeList\":\"storeList__34C1x\",\"blocked\":\"blocked__bFsa8\",\"active\":\"active__2rerf\",\"icon\":\"icon__2rdb0\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/store/style.css\n// module id = JCeB\n// module chunks = 0","import preact, { h, Component } from 'preact';\r\n\r\n// Subscribe is a higher order component that will inject some data to it's children whenever a specific event occurs\r\n// Could be used to listen to any event, not necessarily to one that involves global app state\r\n\r\n// You can subscribe to events by `to` prop from any obseravable passed to 'from' prop\r\n// Data published from observable is accesible in children by `props.sub`\r\nclass Subscribe extends Component {\r\n\r\n\tonAppStateChange = subData => this.setState({ subData });\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t\tthis.observable = props.from;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { to: event } = this.props;\r\n\t\tif (event) {\r\n\t\t\tthis.observable.addObserver(event, this, this.onAppStateChange);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tconst { to: event } = this.props;\r\n\t\tif (event) {\r\n\t\t\tthis.observable.removeObserver(event, this);\r\n\t\t}\r\n\t}\r\n\r\n\trender({ children }, { subData }) {\r\n\t\tif (children.length > 1) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{children.map(child => preact.cloneElement(child, { sub: subData }))}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn preact.cloneElement(children[0], { sub: subData });\r\n\t}\r\n}\r\n\r\nexport default Subscribe;\n\n\n// WEBPACK FOOTER //\n// ./components/common/subscribe.jsx","\r\n// ObservableService is a class that implements observer pattern\r\n// it will run callbacks registered to specific events upon calling `emitEvent`.\r\n// Do not use it directly when dealing with global app state. Use `GameService`s methods instead.\r\n// It could be helpful with other actions though.\r\nexport default class ObservableService {\r\n\tconstructor() {\r\n\t\tthis.observers = {};\r\n\t}\r\n\r\n\taddObserver(eventType, observer, callback) {\r\n\t\tthis.observers[eventType] = (this.observers[eventType]\r\n\t\t\t? [...this.observers[eventType], { observer, callback }]\r\n\t\t\t: [{ observer, callback }]\r\n\t\t);\r\n\t}\r\n\r\n\tremoveObserver(eventType, observer) {\r\n\t\tthis.observers[eventType] = this.observers[eventType]\r\n\t\t\t.filter(current => current.observer !== observer);\r\n\t}\r\n\r\n\temitEvent(eventType, data) {\r\n\t\tconst eventObs = this.observers[eventType];\r\n\t\tif (!eventObs || eventObs.length < 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\teventObs.forEach(current => current.callback(data));\r\n\t}\r\n\r\n\temitEvents(events) {\r\n\t\tevents.forEach(({ type, data }) => this.emitEvent(type, data));\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/observable/observable.js","export default class Structure {\r\n\tconstructor({ desc, picture, baseCost, owned = 0, name, refreshRate, incrQuantity }) {\r\n\t\tthis.baseCost = baseCost;\r\n\t\tthis.owned = owned;\r\n\t\tthis.picture = picture;\r\n\t\tthis.desc = desc;\r\n\t\tthis.name = name;\r\n\t\tthis.refreshRate = refreshRate ? refreshRate : 1;\r\n\t\tthis.incrQuantity = incrQuantity;\r\n\r\n\t\tthis.affordable = false;\r\n\t\tthis.cookiesPerSecond = 0;\r\n\t\tthis.price = this.getPrice(1);\r\n\t}\r\n\r\n\tgetPrice(quantity = 1) {\r\n\t\t// magic numbers and formulas acquired from:\r\n\t\t// http://cookieclicker.wikia.com/wiki/Buildings\r\n\t\tconst powBase = 1.15;\r\n\t\tconst denominator = 0.15;\r\n\r\n\t\tif (quantity >= 1) {\r\n\t\t\treturn Math.ceil((this.baseCost * ((powBase ** (quantity + this.owned)) - (powBase ** this.owned))) / denominator);\r\n\t\t}\r\n\t\t\r\n\t\tthrow new Error('quantity can\\'t be lower than 1');\r\n\t}\r\n\r\n\tcalculateCookiesPerSecond() {\r\n\t\tconst cps = Math.floor(10 * (this.owned * this.refreshRate * this.incrQuantity)) / 10;\r\n\t\tthis.cookiesPerSecond = cps;\r\n\t\treturn cps;\r\n\t}\r\n\r\n\tcheckIfAffordable(cookies, quantity = 1) {\r\n\t\tconst price = this.getPrice(quantity);\r\n\t\tthis.affordable = cookies >= price;\r\n\r\n\t\treturn [this.affordable, price];\r\n\t}\r\n\r\n\tbuy(cookies, quantity = 1) {\r\n\t\tconst [affordable, price] = this.checkIfAffordable(cookies, quantity);\r\n\r\n\t\t// buy structure\r\n\t\tif (affordable) {\r\n\t\t\tthis.owned += quantity;\r\n\r\n\t\t\t// calculate next price of structure\r\n\t\t\tthis.price = this.getPrice();\r\n\r\n\t\t\t// return current price\r\n\t\t\treturn price;\r\n\t\t}\r\n\r\n\t\t// structure can't be bought\r\n\t\treturn false;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/buildings/structure.js","import Structure from './structure';\r\n\r\n// buildings descriptions and stats acquired from cookie clicker wiki:\r\n// http://cookieclicker.wikia.com/wiki/Buildings\r\n\r\nclass Cursor extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 15,\r\n\t\t\trefreshRate: 0.1,\r\n\t\t\tincrQuantity: 1,\r\n\t\t\tname: 'Cursor',\r\n\t\t\tpicture: 'cursor.svg',\r\n\t\t\tdesc: 'Autoclicks once every 10 seconds.'\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Grandma extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 100,\r\n\t\t\tincrQuantity: 1,\r\n\t\t\tname: 'Grandma',\r\n\t\t\tpicture: 'grandma.svg',\r\n\t\t\tdesc: 'A nice grandma to bake more cookies.'\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Farm extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 1100,\r\n\t\t\tincrQuantity: 8,\r\n\t\t\tname: 'Farm',\r\n\t\t\tpicture: 'farm.svg',\r\n\t\t\tdesc: 'Grows cookie plants from cookie seeds.'\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Mine extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 12000,\r\n\t\t\tincrQuantity: 47,\r\n\t\t\tname: 'Mine',\r\n\t\t\tpicture: 'mine.svg',\r\n\t\t\tdesc: 'Mines out cookie dough and chocolate chips.'\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Factory extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 130000,\r\n\t\t\tincrQuantity: 260,\r\n\t\t\tname: 'Factory',\r\n\t\t\tpicture: 'factory.svg',\r\n\t\t\tdesc: 'Produces large quantities of cookies.'\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default { Cursor, Grandma, Farm, Mine, Factory };\n\n\n// WEBPACK FOOTER //\n// ./services/buildings/buildings.js","import Buildings from '../buildings/buildings';\r\n\r\nexport const getInitialState = (Structures = Buildings) => ( {\r\n\tname: 'Bakery',\r\n\tcookiesQuantity: 0,\r\n\tcookiesDisplay: 0,\r\n\tcookiesPerClick: 1,\r\n\tbuildings: Object.keys(Structures).map(key => new Structures[key]())\r\n});\r\n\r\nexport const transformDbState = (state, Structures = Buildings) => (\r\n\tObject.assign({}, state, { buildings: state.buildings.map(dbBuilding => {\r\n\t\tconst CurrentStructure = Structures[dbBuilding.name];\r\n\t\tif (CurrentStructure) {\r\n\t\t\treturn Object.assign(new CurrentStructure(), dbBuilding );\r\n\t\t}\r\n\t}) })\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/game/util.js","import {\r\n\tAPP_STATE_CHANGED\r\n} from '../observable/events';\r\nimport { getInitialState } from './util';\r\n\r\n// GameService encapsulates game logic and serves as data store for whole app\r\n// By using it's methods you are changing global state\r\n// which is then automatically injected into `sub` prop\r\n// to all components that are inside SubscribeToState HOC\r\nexport default class GameService {\r\n\tconstructor({ observable, state, stateService, dbService, saveInterval }) {\r\n\t\t// dependencies\r\n\t\tthis.observable = observable;\r\n\t\tthis.state = state;\r\n\t\tthis.dbService = dbService;\r\n\r\n\t\t// init\r\n\t\tthis.calculateCookiesPerSecond();\r\n\t\tthis.startGame();\r\n\t\tthis.autoSave(saveInterval);\r\n\t}\r\n\r\n\t// save state to the Db on regular basis\r\n\tautoSave(seconds) {\r\n\t\tsetInterval(() => this.dbService.write('state', this.state), seconds * 1000);\r\n\t}\r\n\r\n\t// resetGame removes all saved data from db store and restores initial values\r\n\tresetGame() {\r\n\t\tthis.dbService.clear('state');\r\n\t\tthis.state = getInitialState();\r\n\t\tthis.calculateCookiesPerSecond();\r\n\t}\r\n\r\n\t// get cookies per second from every currently owned building and calculate global CpS.\r\n\tcalculateCookiesPerSecond() {\r\n\t\tthis.state.cookiesPerSecond = this.state.buildings\r\n\t\t\t.map(building => building.calculateCookiesPerSecond())\r\n\t\t\t.reduce((acc, curr) => acc + curr);\r\n\t}\r\n\r\n\t// start game loop\r\n\tstartGame() {\r\n\t\t// `requestAnimationFrame` will stop it's execution after tab is blurred\r\n\t\t// but thanks to `delta` the right amount of cookies will be calculated\r\n\t\t// according to seconds passed since last frame\r\n\t\tconst timestamp = () => (\r\n\t\t\twindow.performance && window.performance.now\r\n\t\t\t\t? window.performance.now()\r\n\t\t\t\t: new Date().getTime()\r\n\t\t);\r\n\t\tlet now;\r\n\t\tlet delta;\r\n\t\tlet last = timestamp();\r\n\r\n\t\tconst frame = () => {\r\n\t\t\tnow = timestamp();\r\n\t\t\tdelta = (now - last) / 1000;\r\n\t\t\tthis.update(delta);\r\n\t\t\tthis.render();\r\n\t\t\tlast = now;\r\n\r\n\t\t\trequestAnimationFrame(frame);\r\n\t\t};\r\n\t\t\r\n\t\t// start loop\r\n\t\trequestAnimationFrame(frame);\r\n\t}\r\n\r\n\t// game logic\r\n\t// runs on every frame and on a request\r\n\tupdate(secondsPassed = null) {\r\n\t\t// if seconds are passed in then add cookies for passed second\r\n\t\tif (secondsPassed) {\r\n\t\t\tthis.state.cookiesQuantity += this.state.cookiesPerSecond * secondsPassed;\r\n\t\t}\r\n\r\n\t\t// show whole cookies\r\n\t\tthis.state.cookiesDisplay = Math.floor(this.state.cookiesQuantity);\r\n\r\n\t\t// get current price of buildings\r\n\t\t// use whole cookies for calculcation to make it more sane for user\r\n\t\tthis.state.buildings.forEach(\r\n\t\t\tbuilding => building.checkIfAffordable(this.state.cookiesDisplay)\r\n\t\t);\r\n\t}\r\n\r\n\t// emit events that will instruct Preact to re-render DOM\r\n\trender() {\r\n\t\t// inject new state into 'sub' prop of SubscribeToState's HOC children\r\n\t\tthis.observable.emitEvent(APP_STATE_CHANGED, this.state);\r\n\t}\r\n\r\n\t// if building is affordable then buy it, recalculate CpS and request update\r\n\tbuyBuilding(name, quantity = 1) {\r\n\t\tconst building = this.state.buildings.find(building => building.name === name);\r\n\t\tconst price = building.buy(this.state.cookiesQuantity, quantity);\r\n\r\n\t\tif (price) {\r\n\t\t\tthis.state.cookiesQuantity = Math.ceil(10 * (this.state.cookiesQuantity - price)) / 10;\r\n\t\t\tthis.calculateCookiesPerSecond();\r\n\t\t\tthis.requestRefresh();\r\n\t\t}\r\n\t}\r\n\r\n\t// click on a cookie\r\n\tclick(num = this.state.cookiesPerClick) {\r\n\t\tthis.state.cookiesQuantity += num;\r\n\t\tthis.requestRefresh();\r\n\t}\r\n\r\n\trequestRefresh() {\r\n\t\tthis.update();\r\n\t\tthis.render();\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./services/game/game.js","// events that could be observed\r\n\r\n// get whole app state\r\nexport const APP_STATE_CHANGED = 'app_state_changed';\n\n\n// WEBPACK FOOTER //\n// ./services/observable/events.js","// DbService takes care of DB operations on state\r\nexport default class DbService {\r\n\tconstructor({ driver, name, stores, version }) {\r\n\t\tthis.driver = driver;\r\n\r\n\t\tif ('indexedDB' in window || process.env.NODE_ENV) {\r\n\t\t\tthis.dbPromise = this.createDatabase(name, stores, version = 1);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//eslint-disable-next-line\r\n\t\t\twindow.alert('To save your cookies you need to use newer browser!');\r\n\t\t}\r\n\t}\r\n\r\n\tcreateDatabase(name, stores, version = 1) {\r\n\t\treturn this.driver.open(name, version, db => {\r\n\t\t\tstores.forEach(({ store, key }) => {\r\n\t\t\t\t!db.objectStoreNames.contains(store) && db.createObjectStore(store, { keyPath: key });\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\twrite(store, data) {\r\n\t\treturn this.dbPromise.then(db => {\r\n\t\t\tconst transaction = db.transaction(store, 'readwrite').objectStore(store).put(data);\r\n\r\n\t\t\treturn transaction.complete;\r\n\t\t});\r\n\t}\r\n\r\n\treadAll(store) {\r\n\t\treturn this.dbPromise.then(db => db.transaction(store, 'readonly').objectStore(store).getAll());\r\n\t}\r\n\r\n\tclear(store) {\r\n\t\treturn this.dbPromise.then(db => {\r\n\t\t\tconst transaction = db.transaction(store, 'readwrite').objectStore(store).clear();\r\n\r\n\t\t\treturn transaction.complete;\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/database/db.js","import idb from 'idb';\r\nimport ObservableService from './observable/observable';\r\nimport { getInitialState, transformDbState } from './game/util';\r\nimport GameService from './game/game';\r\nimport DbService from './database/db';\r\n\r\n// inject dependencies and initialize the app\r\n\r\nexport let app;\r\nexport const observable = new ObservableService();\r\n\r\nconst dbService = new DbService({\r\n\tdriver: idb,\r\n\tname: 'cookie-clicker-db',\r\n\tstores: [{ store: 'state', key: 'name' }]\r\n});\r\n\r\ndbService.readAll('state').then(state => {\r\n\tapp = new GameService({\r\n\t\tobservable,\r\n\t\tdbService,\r\n\t\tsaveInterval: 2,\r\n\t\tstate: (!state || state.length <= 0)\r\n\t\t\t? getInitialState()\r\n\t\t\t: transformDbState(state[0])\r\n\t});\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/index.js","import { h } from 'preact';\r\nimport Subscribe from './subscribe';\r\nimport { observable } from '../../services';\r\nimport { APP_STATE_CHANGED } from '../../services/observable/events';\r\n\r\n// SubscribeToState is a higher order component that injects global app state into props of it's children\r\n// It is triggered by APP_STATE_CHANGED event\r\nexport const SubscribeToState = ({ children }) => (\r\n\t<Subscribe to={APP_STATE_CHANGED} from={observable}>\r\n\t\t{children}\r\n\t</Subscribe>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/common/subscribe-to.jsx","import { h } from 'preact';\r\nimport style from './style';\r\n\r\nconst Stats = ({ sub }) => (\r\n\t<header class={style.stats} >\r\n\t\t<h1>\r\n\t\t\t{sub && sub.name}\r\n\t\t</h1>\r\n\t\t<span class={style.cps}>\r\n\t\t\tcookies baked so far:\r\n\t\t</span>\r\n\t\t<span class={style.quantity}>\r\n\t\t\t{sub && sub.cookiesDisplay}\r\n\t\t</span>\r\n\t\t<span class={style.cps}>\r\n\t\t\tper second: { sub && sub.cookiesPerSecond}\r\n\t\t</span>\r\n\t</header>\r\n);\r\n\r\nexport default Stats;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/stats/index.jsx","import { h } from 'preact';\r\nimport style from './style';\r\nimport cookie from '../../assets/images/cookie.svg';\r\n\r\nimport { app } from '../../services';\r\n\r\nconst clickHandler = () => app.click();\r\n\r\nconst Cookie = ({ sub }) => (\r\n\t<button class={style.cookie} onClick={clickHandler}>\r\n\t\t<img src={cookie} alt=\"cookie\" />\r\n\t</button>\r\n);\r\n\r\nexport default Cookie;\n\n\n// WEBPACK FOOTER //\n// ./components/cookie/index.jsx","import { h } from 'preact';\n// import style from './style';\n\nimport { SubscribeToState } from '../common/subscribe-to';\nimport Stats from '../stats';\nimport Cookie from '../cookie';\n\nconst CookieContainer = () => (\n\t<div>\n\t\t<SubscribeToState>\n\t\t\t<Stats />\n\t\t</SubscribeToState>\n\t\t<Cookie />\n\t</div>\n);\n\nexport default CookieContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/cookie-container/index.jsx","import { h } from 'preact';\r\nimport style from './style';\r\n// import images from '../../assets/images/buildings';\r\n\r\nimport { app } from '../../services';\r\n\r\nconst Store = ({ sub }) => (\r\n\t<div class={style.store}>\r\n\t\t<h2>Recipes to bake more cookies</h2>\r\n\t\t<ul class={style.storeList}>\r\n\t\t\t{ sub && sub.buildings.map(({ \r\n\t\t\t\tname,\r\n\t\t\t\towned,\r\n\t\t\t\taffordable,\r\n\t\t\t\tcookiesPerSecond,\r\n\t\t\t\tprice,\r\n\t\t\t\tpicture,\r\n\t\t\t\tdesc,\r\n\t\t\t\tincrQuantity,\r\n\t\t\t\trefreshRate\r\n\t\t\t}) => {\r\n\t\t\t\tconst buy = () => app.buyBuilding(name, 1);\r\n\t\t\t\t// console.log(images);\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tclass={affordable ? style.active : style.blocked}\r\n\t\t\t\t\t\tonClick={buy}\r\n\t\t\t\t\t\tkey={name}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<h2>{name}</h2>\r\n\t\t\t\t\t\t<img class={style.icon} src={require(`../../assets/images/buildings/${picture}`)} alt={name} />\r\n\t\t\t\t\t\t<div>Owned: {owned}</div>\r\n\t\t\t\t\t\t<div>Price: {price}</div>\r\n\t\t\t\t\t\t<div>{desc}</div>\r\n\t\t\t\t\t\t<div>Each {name} produces {incrQuantity * refreshRate} cookies/second</div>\r\n\t\t\t\t\t\t<div>All {name}s produces {cookiesPerSecond} cookies/second</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t</div>\r\n);\r\n\r\nexport default Store;\n\n\n// WEBPACK FOOTER //\n// ./components/store/index.jsx","import { h } from 'preact';\n\nimport { SubscribeToState } from '../common/subscribe-to';\nimport Store from '../store';\n\nconst StoreContainer = () => (\n\t<SubscribeToState>\n\t\t<Store />\n\t</SubscribeToState>\n);\n\nexport default StoreContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/store-container/index.jsx","import { h } from 'preact';\nimport style from './style';\n\n// components\nimport CookieContainer from '../cookie-container';\nimport StoreContainer from '../store-container';\n\nconst Main = () => (\n\t<main class={style.main}>\n\t\t<CookieContainer />\n\t\t<StoreContainer />\n\t</main>\n);\n\nexport default Main;\n\n\n// WEBPACK FOOTER //\n// ./components/main/index.jsx","import { h } from 'preact';\n\nimport { app } from '../../services';\n\nclass Footer {\n\tresetHandler = () => app.resetGame();\n\n\trender() {\n\t\treturn (\n\t\t\t<footer>\n\t\t\tIcons made by\n\t\t\t\t<a\n\t\t\t\t\thref=\"http://www.freepik.com\"\n\t\t\t\t\ttitle=\"Freepik\"\n\t\t\t\t>\n\t\t\t\tFreepik\n\t\t\t\t</a>,\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://www.flaticon.com/authors/dimitry-miroliubov\"\n\t\t\t\t\ttitle=\"Dimitry Miroliubov\"\n\t\t\t\t>\n\t\t\t\tDimitry Miroliubov\n\t\t\t\t</a>,\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://www.flaticon.com/authors/popcorns-arts\"\n\t\t\t\t\ttitle=\"Icon Pond\"\n\t\t\t\t>\n\t\t\t\tIcon Pond\n\t\t\t\t</a>\n\t\t\tfrom\n\t\t\t\t<a href=\"https://www.flaticon.com/\" title=\"Flaticon\">\n\t\t\t\twww.flaticon.com\n\t\t\t\t</a> are licensed by\n\t\t\t\t<a\n\t\t\t\t\thref=\"http://creativecommons.org/licenses/by/3.0/\"\n\t\t\t\t\ttitle=\"Creative Commons BY 3.0\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t>\n\t\t\t\tCC 3.0 BY\n\t\t\t\t</a>\n\t\t\t\t<button onClick={this.resetHandler}>reset</button>\n\t\t\t</footer>\n\t\t);\n\t}\n}\n\nexport default Footer;\n\n\n// WEBPACK FOOTER //\n// ./components/footer/index.jsx","import { h } from 'preact';\r\n\r\n// components\r\nimport Main from './main';\r\nimport Footer from './footer';\r\n\r\nconst App = () => (\r\n\t<div id=\"app\">\r\n\t\t<Main />\r\n\t\t<Footer />\r\n\t</div>\r\n);\r\n\r\nexport default App;\n\n\n// WEBPACK FOOTER //\n// ./components/app.jsx","import './style';\nimport App from './components/app';\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","!function(){\"use strict\";function e(){}function t(t,n){var o,r,i,l,a=E;for(l=arguments.length;l-- >2;)W.push(arguments[l]);n&&null!=n.children&&(W.length||W.push(n.children),delete n.children);while(W.length)if((r=W.pop())&&void 0!==r.pop)for(l=r.length;l--;)W.push(r[l]);else\"boolean\"==typeof r&&(r=null),(i=\"function\"!=typeof t)&&(null==r?r=\"\":\"number\"==typeof r?r+=\"\":\"string\"!=typeof r&&(i=!1)),i&&o?a[a.length-1]+=r:a===E?a=[r]:a.push(r),o=i;var u=new e;return u.nodeName=t,u.children=a,u.attributes=null==n?void 0:n,u.key=null==n?void 0:n.key,void 0!==S.vnode&&S.vnode(u),u}function n(e,t){for(var n in t)e[n]=t[n];return e}function o(e,o){return t(e.nodeName,n(n({},e.attributes),o),arguments.length>2?[].slice.call(arguments,2):e.children)}function r(e){!e.__d&&(e.__d=!0)&&1==A.push(e)&&(S.debounceRendering||P)(i)}function i(){var e,t=A;A=[];while(e=t.pop())e.__d&&k(e)}function l(e,t,n){return\"string\"==typeof t||\"number\"==typeof t?void 0!==e.splitText:\"string\"==typeof t.nodeName?!e._componentConstructor&&a(e,t.nodeName):n||e._componentConstructor===t.nodeName}function a(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function u(e){var t=n({},e.attributes);t.children=e.children;var o=e.nodeName.defaultProps;if(void 0!==o)for(var r in o)void 0===t[r]&&(t[r]=o[r]);return t}function _(e,t){var n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",e):document.createElement(e);return n.__n=e,n}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function c(e,t,n,o,r){if(\"className\"===t&&(t=\"class\"),\"key\"===t);else if(\"ref\"===t)n&&n(null),o&&o(e);else if(\"class\"!==t||r)if(\"style\"===t){if(o&&\"string\"!=typeof o&&\"string\"!=typeof n||(e.style.cssText=o||\"\"),o&&\"object\"==typeof o){if(\"string\"!=typeof n)for(var i in n)i in o||(e.style[i]=\"\");for(var i in o)e.style[i]=\"number\"==typeof o[i]&&!1===V.test(i)?o[i]+\"px\":o[i]}}else if(\"dangerouslySetInnerHTML\"===t)o&&(e.innerHTML=o.__html||\"\");else if(\"o\"==t[0]&&\"n\"==t[1]){var l=t!==(t=t.replace(/Capture$/,\"\"));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,f,l):e.removeEventListener(t,f,l),(e.__l||(e.__l={}))[t]=o}else if(\"list\"!==t&&\"type\"!==t&&!r&&t in e)s(e,t,null==o?\"\":o),null!=o&&!1!==o||e.removeAttribute(t);else{var a=r&&t!==(t=t.replace(/^xlink\\:?/,\"\"));null==o||!1===o?a?e.removeAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase()):e.removeAttribute(t):\"function\"!=typeof o&&(a?e.setAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||\"\"}function s(e,t,n){try{e[t]=n}catch(e){}}function f(e){return this.__l[e.type](S.event&&S.event(e)||e)}function d(){var e;while(e=D.pop())S.afterMount&&S.afterMount(e),e.componentDidMount&&e.componentDidMount()}function h(e,t,n,o,r,i){H++||(R=null!=r&&void 0!==r.ownerSVGElement,j=null!=e&&!(\"__preactattr_\"in e));var l=m(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--H||(j=!1,i||d()),l}function m(e,t,n,o,r){var i=e,l=R;if(null!=t&&\"boolean\"!=typeof t||(t=\"\"),\"string\"==typeof t||\"number\"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0))),i.__preactattr_=!0,i;var u=t.nodeName;if(\"function\"==typeof u)return U(e,t,n,o);if(R=\"svg\"===u||\"foreignObject\"!==u&&R,u+=\"\",(!e||!a(e,u))&&(i=_(u,R),e)){while(e.firstChild)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0)}var p=i.firstChild,c=i.__preactattr_,s=t.children;if(null==c){c=i.__preactattr_={};for(var f=i.attributes,d=f.length;d--;)c[f[d].name]=f[d].value}return!j&&s&&1===s.length&&\"string\"==typeof s[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=s[0]&&(p.nodeValue=s[0]):(s&&s.length||null!=p)&&v(i,s,n,o,j||null!=c.dangerouslySetInnerHTML),g(i,t.attributes,c),R=l,i}function v(e,t,n,o,r){var i,a,u,_,c,s=e.childNodes,f=[],d={},h=0,v=0,y=s.length,g=0,w=t?t.length:0;if(0!==y)for(var C=0;C<y;C++){var x=s[C],N=x.__preactattr_,k=w&&N?x._component?x._component.__k:N.key:null;null!=k?(h++,d[k]=x):(N||(void 0!==x.splitText?!r||x.nodeValue.trim():r))&&(f[g++]=x)}if(0!==w)for(var C=0;C<w;C++){_=t[C],c=null;var k=_.key;if(null!=k)h&&void 0!==d[k]&&(c=d[k],d[k]=void 0,h--);else if(!c&&v<g)for(i=v;i<g;i++)if(void 0!==f[i]&&l(a=f[i],_,r)){c=a,f[i]=void 0,i===g-1&&g--,i===v&&v++;break}c=m(c,_,n,o),u=s[C],c&&c!==e&&c!==u&&(null==u?e.appendChild(c):c===u.nextSibling?p(u):e.insertBefore(c,u))}if(h)for(var C in d)void 0!==d[C]&&b(d[C],!1);while(v<=g)void 0!==(c=f[g--])&&b(c,!1)}function b(e,t){var n=e._component;n?L(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||p(e),y(e))}function y(e){e=e.lastChild;while(e){var t=e.previousSibling;b(e,!0),e=t}}function g(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||c(e,o,n[o],n[o]=void 0,R);for(o in t)\"children\"===o||\"innerHTML\"===o||o in n&&t[o]===(\"value\"===o||\"checked\"===o?e[o]:n[o])||c(e,o,n[o],n[o]=t[o],R)}function w(e){var t=e.constructor.name;(I[t]||(I[t]=[])).push(e)}function C(e,t,n){var o,r=I[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),T.call(o,t,n)):(o=new T(t,n),o.constructor=e,o.render=x),r)for(var i=r.length;i--;)if(r[i].constructor===e){o.__b=r[i].__b,r.splice(i,1);break}return o}function x(e,t,n){return this.constructor(e,n)}function N(e,t,n,o,i){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.__c||(e.__c=e.context),e.context=o),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===S.syncComponentUpdates&&e.base?r(e):k(e,1,i)),e.__r&&e.__r(e))}function k(e,t,o,r){if(!e.__x){var i,l,a,_=e.props,p=e.state,c=e.context,s=e.__p||_,f=e.__s||p,m=e.__c||c,v=e.base,y=e.__b,g=v||y,w=e._component,x=!1;if(v&&(e.props=s,e.state=f,e.context=m,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(_,p,c)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(_,p,c),e.props=_,e.state=p,e.context=c),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!x){i=e.render(_,p,c),e.getChildContext&&(c=n(n({},c),e.getChildContext()));var U,T,M=i&&i.nodeName;if(\"function\"==typeof M){var W=u(i);l=w,l&&l.constructor===M&&W.key==l.__k?N(l,W,1,c,!1):(U=l,e._component=l=C(M,W,c),l.__b=l.__b||y,l.__u=e,N(l,W,0,c,!1),k(l,1,o,!0)),T=l.base}else a=g,U=w,U&&(a=e._component=null),(g||1===t)&&(a&&(a._component=null),T=h(a,i,c,o||!v,g&&g.parentNode,!0));if(g&&T!==g&&l!==w){var E=g.parentNode;E&&T!==E&&(E.replaceChild(T,g),U||(g._component=null,b(g,!1)))}if(U&&L(U),e.base=T,T&&!r){var P=e,V=e;while(V=V.__u)(P=V).base=T;T._component=P,T._componentConstructor=P.constructor}}if(!v||o?D.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(s,f,m),S.afterUpdate&&S.afterUpdate(e)),null!=e.__h)while(e.__h.length)e.__h.pop().call(e);H||r||d()}}function U(e,t,n,o){var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,_=a,p=u(t);while(r&&!_&&(r=r.__u))_=r.constructor===t.nodeName;return r&&_&&(!o||r._component)?(N(r,p,3,n,o),e=r.base):(i&&!a&&(L(i),e=l=null),r=C(t.nodeName,p,n),e&&!r.__b&&(r.__b=e,l=null),N(r,p,1,n,o),e=r.base,l&&e!==l&&(l._component=null,b(l,!1))),e}function L(e){S.beforeUnmount&&S.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?L(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,p(t),w(e),y(t)),e.__r&&e.__r(null)}function T(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}function M(e,t,n){return h(n,e,{},!1,t,!1)}var S={},W=[],E=[],P=\"function\"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,V=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,A=[],D=[],H=0,R=!1,j=!1,I={};n(T.prototype,{setState:function(e,t){var o=this.state;this.__s||(this.__s=n({},o)),n(o,\"function\"==typeof e?e(o,this.props):e),t&&(this.__h=this.__h||[]).push(t),r(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),k(this,2)},render:function(){}});var $={h:t,createElement:t,cloneElement:o,Component:T,render:M,rerender:i,options:S};\"undefined\"!=typeof module?module.exports=$:self.preact=$}();\n//# sourceMappingURL=preact.min.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact/dist/preact.min.js","module.exports = __webpack_public_path__ + \"baffd8e5debad62df4b0a4560b2773d3.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/buildings/factory.svg\n// module id = La2c\n// module chunks = 0","module.exports = __webpack_public_path__ + \"85b1777ba767a88605d9cfd9acda8455.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/buildings/mine.svg\n// module id = PUFR\n// module chunks = 0","module.exports = __webpack_public_path__ + \"e20a4d9b92a07d26d50a01a5c3ba0430.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/buildings/grandma.svg\n// module id = Rts4\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"main\":\"main__or-Vq\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/main/style.css\n// module id = STmO\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"cookie\":\"cookie__1AJma\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/cookie/style.css\n// module id = e5AH\n// module chunks = 0","'use strict';\n\n(function() {\n  function toArray(arr) {\n    return Array.prototype.slice.call(arr);\n  }\n\n  function promisifyRequest(request) {\n    return new Promise(function(resolve, reject) {\n      request.onsuccess = function() {\n        resolve(request.result);\n      };\n\n      request.onerror = function() {\n        reject(request.error);\n      };\n    });\n  }\n\n  function promisifyRequestCall(obj, method, args) {\n    var request;\n    var p = new Promise(function(resolve, reject) {\n      request = obj[method].apply(obj, args);\n      promisifyRequest(request).then(resolve, reject);\n    });\n\n    p.request = request;\n    return p;\n  }\n\n  function promisifyCursorRequestCall(obj, method, args) {\n    var p = promisifyRequestCall(obj, method, args);\n    return p.then(function(value) {\n      if (!value) return;\n      return new Cursor(value, p.request);\n    });\n  }\n\n  function proxyProperties(ProxyClass, targetProp, properties) {\n    properties.forEach(function(prop) {\n      Object.defineProperty(ProxyClass.prototype, prop, {\n        get: function() {\n          return this[targetProp][prop];\n        },\n        set: function(val) {\n          this[targetProp][prop] = val;\n        }\n      });\n    });\n  }\n\n  function proxyRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return promisifyRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function proxyMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return this[targetProp][prop].apply(this[targetProp], arguments);\n      };\n    });\n  }\n\n  function proxyCursorRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return promisifyCursorRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function Index(index) {\n    this._index = index;\n  }\n\n  proxyProperties(Index, '_index', [\n    'name',\n    'keyPath',\n    'multiEntry',\n    'unique'\n  ]);\n\n  proxyRequestMethods(Index, '_index', IDBIndex, [\n    'get',\n    'getKey',\n    'getAll',\n    'getAllKeys',\n    'count'\n  ]);\n\n  proxyCursorRequestMethods(Index, '_index', IDBIndex, [\n    'openCursor',\n    'openKeyCursor'\n  ]);\n\n  function Cursor(cursor, request) {\n    this._cursor = cursor;\n    this._request = request;\n  }\n\n  proxyProperties(Cursor, '_cursor', [\n    'direction',\n    'key',\n    'primaryKey',\n    'value'\n  ]);\n\n  proxyRequestMethods(Cursor, '_cursor', IDBCursor, [\n    'update',\n    'delete'\n  ]);\n\n  // proxy 'next' methods\n  ['advance', 'continue', 'continuePrimaryKey'].forEach(function(methodName) {\n    if (!(methodName in IDBCursor.prototype)) return;\n    Cursor.prototype[methodName] = function() {\n      var cursor = this;\n      var args = arguments;\n      return Promise.resolve().then(function() {\n        cursor._cursor[methodName].apply(cursor._cursor, args);\n        return promisifyRequest(cursor._request).then(function(value) {\n          if (!value) return;\n          return new Cursor(value, cursor._request);\n        });\n      });\n    };\n  });\n\n  function ObjectStore(store) {\n    this._store = store;\n  }\n\n  ObjectStore.prototype.createIndex = function() {\n    return new Index(this._store.createIndex.apply(this._store, arguments));\n  };\n\n  ObjectStore.prototype.index = function() {\n    return new Index(this._store.index.apply(this._store, arguments));\n  };\n\n  proxyProperties(ObjectStore, '_store', [\n    'name',\n    'keyPath',\n    'indexNames',\n    'autoIncrement'\n  ]);\n\n  proxyRequestMethods(ObjectStore, '_store', IDBObjectStore, [\n    'put',\n    'add',\n    'delete',\n    'clear',\n    'get',\n    'getAll',\n    'getKey',\n    'getAllKeys',\n    'count'\n  ]);\n\n  proxyCursorRequestMethods(ObjectStore, '_store', IDBObjectStore, [\n    'openCursor',\n    'openKeyCursor'\n  ]);\n\n  proxyMethods(ObjectStore, '_store', IDBObjectStore, [\n    'deleteIndex'\n  ]);\n\n  function Transaction(idbTransaction) {\n    this._tx = idbTransaction;\n    this.complete = new Promise(function(resolve, reject) {\n      idbTransaction.oncomplete = function() {\n        resolve();\n      };\n      idbTransaction.onerror = function() {\n        reject(idbTransaction.error);\n      };\n      idbTransaction.onabort = function() {\n        reject(idbTransaction.error);\n      };\n    });\n  }\n\n  Transaction.prototype.objectStore = function() {\n    return new ObjectStore(this._tx.objectStore.apply(this._tx, arguments));\n  };\n\n  proxyProperties(Transaction, '_tx', [\n    'objectStoreNames',\n    'mode'\n  ]);\n\n  proxyMethods(Transaction, '_tx', IDBTransaction, [\n    'abort'\n  ]);\n\n  function UpgradeDB(db, oldVersion, transaction) {\n    this._db = db;\n    this.oldVersion = oldVersion;\n    this.transaction = new Transaction(transaction);\n  }\n\n  UpgradeDB.prototype.createObjectStore = function() {\n    return new ObjectStore(this._db.createObjectStore.apply(this._db, arguments));\n  };\n\n  proxyProperties(UpgradeDB, '_db', [\n    'name',\n    'version',\n    'objectStoreNames'\n  ]);\n\n  proxyMethods(UpgradeDB, '_db', IDBDatabase, [\n    'deleteObjectStore',\n    'close'\n  ]);\n\n  function DB(db) {\n    this._db = db;\n  }\n\n  DB.prototype.transaction = function() {\n    return new Transaction(this._db.transaction.apply(this._db, arguments));\n  };\n\n  proxyProperties(DB, '_db', [\n    'name',\n    'version',\n    'objectStoreNames'\n  ]);\n\n  proxyMethods(DB, '_db', IDBDatabase, [\n    'close'\n  ]);\n\n  // Add cursor iterators\n  // TODO: remove this once browsers do the right thing with promises\n  ['openCursor', 'openKeyCursor'].forEach(function(funcName) {\n    [ObjectStore, Index].forEach(function(Constructor) {\n      Constructor.prototype[funcName.replace('open', 'iterate')] = function() {\n        var args = toArray(arguments);\n        var callback = args[args.length - 1];\n        var nativeObject = this._store || this._index;\n        var request = nativeObject[funcName].apply(nativeObject, args.slice(0, -1));\n        request.onsuccess = function() {\n          callback(request.result);\n        };\n      };\n    });\n  });\n\n  // polyfill getAll\n  [Index, ObjectStore].forEach(function(Constructor) {\n    if (Constructor.prototype.getAll) return;\n    Constructor.prototype.getAll = function(query, count) {\n      var instance = this;\n      var items = [];\n\n      return new Promise(function(resolve) {\n        instance.iterateCursor(query, function(cursor) {\n          if (!cursor) {\n            resolve(items);\n            return;\n          }\n          items.push(cursor.value);\n\n          if (count !== undefined && items.length == count) {\n            resolve(items);\n            return;\n          }\n          cursor.continue();\n        });\n      });\n    };\n  });\n\n  var exp = {\n    open: function(name, version, upgradeCallback) {\n      var p = promisifyRequestCall(indexedDB, 'open', [name, version]);\n      var request = p.request;\n\n      request.onupgradeneeded = function(event) {\n        if (upgradeCallback) {\n          upgradeCallback(new UpgradeDB(request.result, event.oldVersion, request.transaction));\n        }\n      };\n\n      return p.then(function(db) {\n        return new DB(db);\n      });\n    },\n    delete: function(name) {\n      return promisifyRequestCall(indexedDB, 'deleteDatabase', [name]);\n    }\n  };\n\n  if (typeof module !== 'undefined') {\n    module.exports = exp;\n    module.exports.default = module.exports;\n  }\n  else {\n    self.idb = exp;\n  }\n}());\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/idb/lib/idb.js","module.exports = __webpack_public_path__ + \"55121e8287c1d4e86ea8109851a1e5d8.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/buildings/farm.svg\n// module id = l6RX\n// module chunks = 0","module.exports = __webpack_public_path__ + \"55cc9c47d114b41b719bada8444a4bfc.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/buildings/cursor.svg\n// module id = oN5R\n// module chunks = 0","module.exports = __webpack_public_path__ + \"aa073a0fc198609c3d41a4991b6f127b.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/cookie.svg\n// module id = osaz\n// module chunks = 0","'use strict';\n\nvar _preact = require('preact');\n\nif (process.env.NODE_ENV === 'development') {\n\trequire('preact/devtools');\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator && location.protocol === 'https:') {\n\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw.js');\n}\n\nconst interopDefault = m => m && m.default ? m.default : m;\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root = document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\troot = (0, _preact.render)((0, _preact.h)(app), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact-cli/lib/lib/entry.js","var map = {\n\t\"./cursor.svg\": \"oN5R\",\n\t\"./factory.svg\": \"La2c\",\n\t\"./farm.svg\": \"l6RX\",\n\t\"./grandma.svg\": \"Rts4\",\n\t\"./mine.svg\": \"PUFR\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"t0pj\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/buildings ^\\.\\/.*$\n// module id = t0pj\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"stats\":\"stats__1F7Gk\",\"quantity\":\"quantity__r7wAw\",\"cps\":\"cps__2zzZn\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/stats/style.css\n// module id = xjId\n// module chunks = 0"],"sourceRoot":""}