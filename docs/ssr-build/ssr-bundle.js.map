{"version":3,"sources":["webpack:///webpack/bootstrap 6053c05b8764b22fb648","webpack:///./components/cookie-container/stats/style.css","webpack:///../node_modules/idb/lib/node.js","webpack:///./components/cookie-container/style.css","webpack:///../node_modules/indexeddb-getall-shim/IndexedDB-getAll-shim.js","webpack:///./components/common/subscribe.jsx","webpack:///./services/observable/observable.js","webpack:///./services/buildings/structure.js","webpack:///./services/buildings/buildings.js","webpack:///./services/game/util.js","webpack:///./services/observable/events.js","webpack:///./services/game/game.js","webpack:///./services/database/db.js","webpack:///./services/index.js","webpack:///./components/common/subscribe-to.jsx","webpack:///./components/cookie-container/stats/index.jsx","webpack:///./components/cookie-container/cookie/index.jsx","webpack:///./components/cookie-container/index.jsx","webpack:///./components/store-container/store-item/index.jsx","webpack:///./components/store-container/store/index.jsx","webpack:///./components/store-container/index.jsx","webpack:///./components/app.jsx","webpack:///./index.js","webpack:///../node_modules/preact/dist/preact.min.js","webpack:///./assets/images/buildings/factory.svg","webpack:///./assets/images/buildings/mine.svg","webpack:///./assets/images/buildings/grandma.svg","webpack:///./components/store-container/store/style.css","webpack:///./assets/images/trash.svg","webpack:///../node_modules/idb/lib/idb.js","webpack:///./assets/images/buildings/farm.svg","webpack:///./assets/images/buildings/cursor.svg","webpack:///./assets/images/cookie.svg","webpack:///./assets/images/github.svg","webpack:///./style/index.css","webpack:///./assets/images/buildings ^\\.\\/.*$","webpack:///./components/cookie-container/cookie/style.css","webpack:///./components/store-container/store-item/style.css"],"names":["indexedDB","module","exports","require","open","Promise","reject","delete","globalVar","window","WorkerGlobalScope","self","global","Function","Event","IDBIndex","IDBObjectStore","IDBRequest","getAll","getAllFactory","getAllKeys","webkitIDBObjectStore","mozIDBObjectStore","msIDBObjectStore","webkitIDBIndex","mozIDBIndex","msIDBIndex","prototype","undefined","mozGetAll","result","error","source","transaction","readyState","onsuccess","onerror","toString","type","target","currentTarget","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","eventPhase","stopPropagation","console","log","stopImmediatePropagation","bubbles","cancelable","preventDefault","defaultPrevented","isTrusted","timestamp","Date","now","key","count","request","cursorRequest","openCursor","event","cursor","e","push","length","continue","props","onAppStateChange","setState","subData","state","observable","from","componentDidMount","to","addObserver","componentWillUnmount","removeObserver","render","children","map","preact","cloneElement","child","sub","ObservableService","observers","eventType","observer","callback","filter","current","emitEvent","data","eventObs","forEach","emitEvents","events","Structure","desc","picture","baseCost","owned","name","refreshRate","incrQuantity","affordable","cookiesPerSecond","price","getPrice","quantity","powBase","denominator","Math","ceil","Error","calculateCookiesPerSecond","cps","floor","checkIfAffordable","cookies","buy","Cursor","Grandma","Farm","Mine","Factory","getInitialState","Structures","cookiesQuantity","cookiesDisplay","cookiesPerClick","buildings","Object","keys","transformDbState","CurrentStructure","dbBuilding","APP_STATE_CHANGED","stateService","dbService","saveInterval","startGame","autoSave","seconds","setInterval","write","resetGame","clear","building","reduce","acc","curr","performance","getTime","delta","last","frame","update","requestAnimationFrame","secondsPassed","buyBuilding","find","requestRefresh","click","num","DbService","driver","stores","version","dbPromise","createDatabase","alert","store","db","objectStoreNames","contains","createObjectStore","keyPath","then","objectStore","put","complete","readAll","app","SubscribeToState","resetHandler","style","stats","github","trash","clickHandler","cookie","CookieContainer","cookieContainer","cookieWrapper","propApp","storeListItem","storeListItemActive","storeListItemBlocked","foldedCorner","storeListItemInfo","icon","storeListItemDesc","Store","storeRibbon","storeList","StoreContainer","App","t","n","o","r","i","l","a","E","arguments","W","pop","u","nodeName","attributes","S","vnode","slice","call","__d","A","debounceRendering","P","k","splitText","_componentConstructor","__n","toLowerCase","defaultProps","_","document","createElementNS","createElement","p","parentNode","removeChild","c","cssText","V","test","innerHTML","__html","replace","substring","addEventListener","f","removeEventListener","__l","s","removeAttribute","removeAttributeNS","setAttributeNS","setAttribute","className","d","D","afterMount","h","H","R","ownerSVGElement","j","m","appendChild","_component","nodeValue","createTextNode","replaceChild","b","__preactattr_","U","firstChild","value","nextSibling","v","dangerouslySetInnerHTML","g","childNodes","y","w","C","x","N","__k","trim","insertBefore","L","ref","lastChild","previousSibling","constructor","I","T","__b","splice","__x","__r","base","componentWillMount","componentWillReceiveProps","context","__c","__p","syncComponentUpdates","__s","shouldComponentUpdate","componentWillUpdate","getChildContext","M","__u","unshift","componentDidUpdate","afterUpdate","__h","beforeUnmount","resolve","bind","setTimeout","forceUpdate","$","Component","rerender","options","toArray","arr","Array","promisifyRequest","promisifyRequestCall","obj","method","args","apply","promisifyCursorRequestCall","proxyProperties","ProxyClass","targetProp","properties","prop","defineProperty","get","set","val","proxyRequestMethods","Constructor","proxyMethods","proxyCursorRequestMethods","Index","index","_index","_cursor","_request","IDBCursor","methodName","ObjectStore","_store","createIndex","Transaction","idbTransaction","_tx","oncomplete","onabort","IDBTransaction","UpgradeDB","oldVersion","_db","IDBDatabase","DB","funcName","nativeObject","query","instance","items","iterateCursor","exp","upgradeCallback","onupgradeneeded","default","idb"],"mappings":"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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/cookie-clicker/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"JkW7\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6053c05b8764b22fb648","// removed by extract-text-webpack-plugin\nmodule.exports = {\"stats\":\"stats__3OCC8\",\"quantity\":\"quantity__2mZHu\",\"cps\":\"cps__bJB71\",\"github\":\"github__3lkF-\",\"trash\":\"trash__1wpx7\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/cookie-container/stats/style.css\n// module id = 6Bxh\n// module chunks = 0","if (typeof indexedDB != 'undefined') {\n  module.exports = require('./idb.js');\n}\nelse {\n  module.exports = {\n    open: function () {\n      return Promise.reject('IDB requires a browser environment');\n    },\n    delete: function () {\n      return Promise.reject('IDB requires a browser environment');\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/idb/lib/node.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"cookieContainer\":\"cookieContainer__3Mmp9\",\"cookieWrapper\":\"cookieWrapper__1kii-\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/cookie-container/style.css\n// module id = GJKC\n// module chunks = 0","// http://stackoverflow.com/a/33268326/786644 - works in browser, worker, and Node.js\nvar globalVar = typeof window !== 'undefined' ? window : \n   typeof WorkerGlobalScope !== 'undefined' ? self :\n   typeof global !== 'undefined' ? global :\n   Function('return this;')();\n\n(function (window) {\n    \"use strict\";\n\n    var Event, IDBIndex, IDBObjectStore, IDBRequest, getAll, getAllFactory, getAllKeys;\n\n    IDBObjectStore = window.IDBObjectStore || window.webkitIDBObjectStore || window.mozIDBObjectStore || window.msIDBObjectStore;\n    IDBIndex = window.IDBIndex || window.webkitIDBIndex || window.mozIDBIndex || window.msIDBIndex;\n\n    if (typeof IDBObjectStore === \"undefined\" || typeof IDBIndex === \"undefined\" || (IDBObjectStore.prototype.getAll !== undefined && IDBIndex.prototype.getAll !== undefined && IDBObjectStore.prototype.getAllKeys !== undefined && IDBIndex.prototype.getAllKeys !== undefined)) {\n        return;\n    }\n\n    if (IDBObjectStore.prototype.mozGetAll !== undefined && IDBIndex.prototype.mozGetAll !== undefined) {\n        IDBObjectStore.prototype.getAll = IDBObjectStore.prototype.mozGetAll;\n        IDBIndex.prototype.getAll = IDBIndex.prototype.mozGetAll;\n        return;\n    }\n\n    // IDBRequest and Event objects mostly from https://github.com/dumbmatter/fakeIndexedDB\n    IDBRequest = function () {\n        this.result = null;\n        this.error = null;\n        this.source = null;\n        this.transaction = null;\n        this.readyState = 'pending';\n        this.onsuccess = null;\n        this.onerror = null;\n\n        this.toString = function () {\n            return '[object IDBRequest]';\n        };\n    };\n    Event = function (type) {\n        this.type = type;\n        this.target = null;\n        this.currentTarget = null;\n\n        this.NONE = 0;\n        this.CAPTURING_PHASE = 1;\n        this.AT_TARGET = 2;\n        this.BUBBLING_PHASE = 3;\n        this.eventPhase = this.NONE;\n\n        this.stopPropagation = function () {\n            console.log('stopPropagation not implemented in IndexedDB-getAll-shim');\n        };\n        this.stopImmediatePropagation = function () {\n            console.log('stopImmediatePropagation not implemented in IndexedDB-getAll-shim');\n        };\n\n        this.bubbles = false;\n        this.cancelable = false;\n        this.preventDefault = function () {\n            console.log('preventDefault not implemented in IndexedDB-getAll-shim');\n        };\n        this.defaultPrevented = false;\n\n        this.isTrusted = false;\n        this.timestamp = Date.now();\n    };\n\n    // Based on spec draft https://w3c.github.io/IndexedDB/#dom-idbobjectstore-getall\n    getAllFactory = function (type) {\n        return function (key, count) {\n            var request, result;\n\n            key = key !== undefined ? key : null;\n\n            request = new IDBRequest();\n            result = [];\n\n            // this is either an IDBObjectStore or an IDBIndex, depending on the context.\n            var cursorRequest = this.openCursor(key);\n\n            cursorRequest.onsuccess = function (event) {\n                var cursor, e;\n\n                cursor = event.target.result;\n                if (cursor) {\n                    result.push(cursor[type]);\n                    if (count === undefined || result.length < count) {\n                        cursor.continue();\n                        return;\n                    }\n                }\n\n                if (typeof request.onsuccess === \"function\") {\n                    e = new Event(\"success\");\n                    e.target = {\n                        readyState: \"done\",\n                        result: result\n                    };\n                    request.result = result;\n                    request.onsuccess(e);\n                }\n            };\n\n            cursorRequest.onerror = function (event) {\n                console.log('IndexedDB-getAll-shim error when getting data:', event.target.error);\n                request.onerror(event);\n            };\n\n            return request;\n        };\n    };\n\n    getAll = getAllFactory('value');\n    getAllKeys = getAllFactory('key');\n\n    if (IDBObjectStore.prototype.getAll === undefined) {\n        IDBObjectStore.prototype.getAll = getAll;\n    }\n\n    if (IDBIndex.prototype.getAll === undefined) {\n        IDBIndex.prototype.getAll = getAll;\n    }\n\n    if (IDBObjectStore.prototype.getAllKeys === undefined) {\n        IDBObjectStore.prototype.getAllKeys = getAllKeys;\n    }\n\n    if (IDBIndex.prototype.getAllKeys === undefined) {\n        IDBIndex.prototype.getAllKeys = getAllKeys;\n    }\n}(globalVar));\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/indexeddb-getall-shim/IndexedDB-getAll-shim.js","import preact, { h, Component } from 'preact';\r\n\r\n// Subscribe is a higher order component that will inject some data to it's children whenever a specific event occurs\r\n// Could be used to listen to any event, not necessarily to one that involves global app state\r\n\r\n// You can subscribe to events by `to` prop from any obseravable passed to 'from' prop\r\n// Data published from observable is accesible in children by `props.sub`\r\nclass Subscribe extends Component {\r\n\r\n\tonAppStateChange = subData => this.setState({ subData });\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t\tthis.observable = props.from;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { to: event } = this.props;\r\n\t\tif (event) {\r\n\t\t\tthis.observable.addObserver(event, this, this.onAppStateChange);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tconst { to: event } = this.props;\r\n\t\tif (event) {\r\n\t\t\tthis.observable.removeObserver(event, this);\r\n\t\t}\r\n\t}\r\n\r\n\trender({ children }, { subData }) {\r\n\t\tif (children.length > 1) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{children.map(child => preact.cloneElement(child, { sub: subData }))}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn preact.cloneElement(children[0], { sub: subData });\r\n\t}\r\n}\r\n\r\nexport default Subscribe;\n\n\n// WEBPACK FOOTER //\n// ./components/common/subscribe.jsx","\r\n// ObservableService is a class that implements observer pattern\r\n// it will run callbacks registered to specific events upon calling `emitEvent`.\r\n// Do not use it directly when dealing with global app state. Use `GameService`s methods instead.\r\n// It could be helpful with other actions though.\r\nexport default class ObservableService {\r\n\tconstructor() {\r\n\t\tthis.observers = {};\r\n\t}\r\n\r\n\taddObserver(eventType, observer, callback) {\r\n\t\tthis.observers[eventType] = (this.observers[eventType]\r\n\t\t\t? [...this.observers[eventType], { observer, callback }]\r\n\t\t\t: [{ observer, callback }]\r\n\t\t);\r\n\t}\r\n\r\n\tremoveObserver(eventType, observer) {\r\n\t\tthis.observers[eventType] = this.observers[eventType]\r\n\t\t\t.filter(current => current.observer !== observer);\r\n\t}\r\n\r\n\temitEvent(eventType, data) {\r\n\t\tconst eventObs = this.observers[eventType];\r\n\t\tif (!eventObs || eventObs.length < 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\teventObs.forEach(current => current.callback(data));\r\n\t}\r\n\r\n\temitEvents(events) {\r\n\t\tevents.forEach(({ type, data }) => this.emitEvent(type, data));\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/observable/observable.js","export default class Structure {\r\n\tconstructor({ desc, picture, baseCost, owned = 0, name, refreshRate, incrQuantity }) {\r\n\t\tthis.baseCost = baseCost;\r\n\t\tthis.owned = owned;\r\n\t\tthis.picture = picture;\r\n\t\tthis.desc = desc;\r\n\t\tthis.name = name;\r\n\t\tthis.refreshRate = refreshRate ? refreshRate : 1;\r\n\t\tthis.incrQuantity = incrQuantity;\r\n\r\n\t\tthis.affordable = false;\r\n\t\tthis.cookiesPerSecond = 0;\r\n\t\tthis.price = this.getPrice(1);\r\n\t}\r\n\r\n\tgetPrice(quantity = 1) {\r\n\t\t// magic numbers and formulas acquired from:\r\n\t\t// http://cookieclicker.wikia.com/wiki/Buildings\r\n\t\tconst powBase = 1.15;\r\n\t\tconst denominator = 0.15;\r\n\r\n\t\tif (quantity >= 1) {\r\n\t\t\treturn Math.ceil((this.baseCost * ((powBase ** (quantity + this.owned)) - (powBase ** this.owned))) / denominator);\r\n\t\t}\r\n\t\t\r\n\t\tthrow new Error('quantity can\\'t be lower than 1');\r\n\t}\r\n\r\n\tcalculateCookiesPerSecond() {\r\n\t\tconst cps = Math.floor(10 * (this.owned * this.refreshRate * this.incrQuantity)) / 10;\r\n\t\tthis.cookiesPerSecond = cps;\r\n\t\treturn cps;\r\n\t}\r\n\r\n\tcheckIfAffordable(cookies, quantity = 1) {\r\n\t\tconst price = this.getPrice(quantity);\r\n\t\tthis.affordable = cookies >= price;\r\n\r\n\t\treturn [this.affordable, price];\r\n\t}\r\n\r\n\tbuy(cookies, quantity = 1) {\r\n\t\tconst [affordable, price] = this.checkIfAffordable(cookies, quantity);\r\n\r\n\t\t// buy structure\r\n\t\tif (affordable) {\r\n\t\t\tthis.owned += quantity;\r\n\r\n\t\t\t// calculate next price of structure\r\n\t\t\tthis.price = this.getPrice();\r\n\r\n\t\t\t// return current price\r\n\t\t\treturn price;\r\n\t\t}\r\n\r\n\t\t// structure can't be bought\r\n\t\treturn false;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/buildings/structure.js","import Structure from './structure';\r\n\r\n// buildings descriptions and stats acquired from cookie clicker wiki:\r\n// http://cookieclicker.wikia.com/wiki/Buildings\r\n\r\nclass Cursor extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 15,\r\n\t\t\trefreshRate: 0.1,\r\n\t\t\tincrQuantity: 1,\r\n\t\t\tname: 'Cursor',\r\n\t\t\tpicture: 'cursor.svg',\r\n\t\t\tdesc: 'Autoclicks once every 10 seconds.'\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Grandma extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 100,\r\n\t\t\tincrQuantity: 1,\r\n\t\t\tname: 'Grandma',\r\n\t\t\tpicture: 'grandma.svg',\r\n\t\t\tdesc: 'A nice grandma to bake more cookies.'\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Farm extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 1100,\r\n\t\t\tincrQuantity: 8,\r\n\t\t\tname: 'Farm',\r\n\t\t\tpicture: 'farm.svg',\r\n\t\t\tdesc: 'Grows cookie plants from cookie seeds.'\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Mine extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 12000,\r\n\t\t\tincrQuantity: 47,\r\n\t\t\tname: 'Mine',\r\n\t\t\tpicture: 'mine.svg',\r\n\t\t\tdesc: 'Mines out cookie dough and chocolate chips.'\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Factory extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 130000,\r\n\t\t\tincrQuantity: 260,\r\n\t\t\tname: 'Factory',\r\n\t\t\tpicture: 'factory.svg',\r\n\t\t\tdesc: 'Produces large quantities of cookies.'\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default { Cursor, Grandma, Farm, Mine, Factory };\n\n\n// WEBPACK FOOTER //\n// ./services/buildings/buildings.js","import Buildings from '../buildings/buildings';\r\n\r\nexport const getInitialState = (Structures = Buildings) => ( {\r\n\tname: 'Bakery',\r\n\tcookiesQuantity: 0,\r\n\tcookiesDisplay: 0,\r\n\tcookiesPerClick: 1,\r\n\tbuildings: Object.keys(Structures).map(key => new Structures[key]())\r\n});\r\n\r\nexport const transformDbState = (state, Structures = Buildings) => (\r\n\tObject.assign({}, state, { buildings: state.buildings.map(dbBuilding => {\r\n\t\tconst CurrentStructure = Structures[dbBuilding.name];\r\n\t\tif (CurrentStructure) {\r\n\t\t\treturn Object.assign(new CurrentStructure(), dbBuilding );\r\n\t\t}\r\n\t}) })\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/game/util.js","// events that could be observed\r\n\r\n// get whole app state\r\nexport const APP_STATE_CHANGED = 'app_state_changed';\n\n\n// WEBPACK FOOTER //\n// ./services/observable/events.js","import {\r\n\tAPP_STATE_CHANGED\r\n} from '../observable/events';\r\nimport { getInitialState } from './util';\r\n\r\n// GameService encapsulates game logic and serves as data store for whole app\r\n// By using it's methods you are changing global state\r\n// which is then automatically injected into `sub` prop\r\n// to all components that are inside SubscribeToState HOC\r\nexport default class GameService {\r\n\tconstructor({ observable, state, stateService, dbService, saveInterval }) {\r\n\t\t// dependencies\r\n\t\tthis.observable = observable;\r\n\t\tthis.state = state;\r\n\t\tthis.dbService = dbService;\r\n\r\n\t\t// init\r\n\t\tthis.calculateCookiesPerSecond();\r\n\t\tthis.startGame();\r\n\t\tthis.autoSave(saveInterval);\r\n\t}\r\n\r\n\t// save state to the Db on regular basis\r\n\tautoSave(seconds) {\r\n\t\tsetInterval(() => this.dbService.write('state', this.state), seconds * 1000);\r\n\t}\r\n\r\n\t// resetGame removes all saved data from db store and restores initial values\r\n\tresetGame() {\r\n\t\tthis.dbService.clear('state');\r\n\t\tthis.state = getInitialState();\r\n\t\tthis.calculateCookiesPerSecond();\r\n\t}\r\n\r\n\t// get cookies per second from every currently owned building and calculate global CpS.\r\n\tcalculateCookiesPerSecond() {\r\n\t\tthis.state.cookiesPerSecond = this.state.buildings\r\n\t\t\t.map(building => building.calculateCookiesPerSecond())\r\n\t\t\t.reduce((acc, curr) => acc + curr);\r\n\t}\r\n\r\n\t// start game loop\r\n\tstartGame() {\r\n\t\t// `requestAnimationFrame` will stop it's execution after tab is blurred\r\n\t\t// but thanks to `delta` the right amount of cookies will be calculated\r\n\t\t// according to seconds passed since last frame\r\n\t\tconst timestamp = () => (\r\n\t\t\twindow.performance && window.performance.now\r\n\t\t\t\t? window.performance.now()\r\n\t\t\t\t: new Date().getTime()\r\n\t\t);\r\n\t\tlet now;\r\n\t\tlet delta;\r\n\t\tlet last = timestamp();\r\n\r\n\t\tconst frame = () => {\r\n\t\t\tnow = timestamp();\r\n\t\t\tdelta = (now - last) / 1000;\r\n\t\t\tthis.update(delta);\r\n\t\t\tthis.render();\r\n\t\t\tlast = now;\r\n\r\n\t\t\trequestAnimationFrame(frame);\r\n\t\t};\r\n\t\t\r\n\t\t// start loop\r\n\t\trequestAnimationFrame(frame);\r\n\t}\r\n\r\n\t// game logic\r\n\t// runs on every frame and on a request\r\n\tupdate(secondsPassed = null) {\r\n\t\t// if seconds are passed in then add cookies for passed second\r\n\t\tif (secondsPassed) {\r\n\t\t\tthis.state.cookiesQuantity += this.state.cookiesPerSecond * secondsPassed;\r\n\t\t}\r\n\r\n\t\t// show whole cookies\r\n\t\tthis.state.cookiesDisplay = Math.floor(this.state.cookiesQuantity);\r\n\r\n\t\t// get current price of buildings\r\n\t\t// use whole cookies for calculcation to make it more sane for user\r\n\t\tthis.state.buildings.forEach(\r\n\t\t\tbuilding => building.checkIfAffordable(this.state.cookiesDisplay)\r\n\t\t);\r\n\t}\r\n\r\n\t// emit events that will instruct Preact to re-render DOM\r\n\trender() {\r\n\t\t// inject new state into 'sub' prop of SubscribeToState's HOC children\r\n\t\tthis.observable.emitEvent(APP_STATE_CHANGED, this.state);\r\n\t}\r\n\r\n\t// if building is affordable then buy it, recalculate CpS and request update\r\n\tbuyBuilding(name, quantity = 1) {\r\n\t\tconst building = this.state.buildings.find(building => building.name === name);\r\n\t\tconst price = building.buy(this.state.cookiesQuantity, quantity);\r\n\r\n\t\tif (price) {\r\n\t\t\tthis.state.cookiesQuantity = Math.ceil(10 * (this.state.cookiesQuantity - price)) / 10;\r\n\t\t\tthis.calculateCookiesPerSecond();\r\n\t\t\tthis.requestRefresh();\r\n\t\t}\r\n\t}\r\n\r\n\t// click on a cookie\r\n\tclick(num = this.state.cookiesPerClick) {\r\n\t\tthis.state.cookiesQuantity += num;\r\n\t\tthis.requestRefresh();\r\n\t}\r\n\r\n\trequestRefresh() {\r\n\t\tthis.update();\r\n\t\tthis.render();\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./services/game/game.js","// DbService takes care of DB operations on state\r\nexport default class DbService {\r\n\tconstructor({ driver, name, stores, version }) {\r\n\t\tthis.driver = driver;\r\n\r\n\t\tif ('indexedDB' in window || process.env.NODE_ENV) {\r\n\t\t\tthis.dbPromise = this.createDatabase(name, stores, version = 1);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//eslint-disable-next-line\r\n\t\t\twindow.alert('To save your cookies you need to use newer browser!');\r\n\t\t}\r\n\t}\r\n\r\n\tcreateDatabase(name, stores, version = 1) {\r\n\t\treturn this.driver.open(name, version, db => {\r\n\t\t\tstores.forEach(({ store, key }) => {\r\n\t\t\t\t!db.objectStoreNames.contains(store) && db.createObjectStore(store, { keyPath: key });\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\twrite(store, data) {\r\n\t\treturn this.dbPromise.then(db => {\r\n\t\t\tconst transaction = db.transaction(store, 'readwrite').objectStore(store).put(data);\r\n\r\n\t\t\treturn transaction.complete;\r\n\t\t});\r\n\t}\r\n\r\n\treadAll(store) {\r\n\t\treturn this.dbPromise.then(db => db.transaction(store, 'readonly').objectStore(store).getAll());\r\n\t}\r\n\r\n\tclear(store) {\r\n\t\treturn this.dbPromise.then(db => {\r\n\t\t\tconst transaction = db.transaction(store, 'readwrite').objectStore(store).clear();\r\n\r\n\t\t\treturn transaction.complete;\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/database/db.js","import 'indexeddb-getall-shim';\r\nimport idb from 'idb';\r\n\r\nimport ObservableService from './observable/observable';\r\nimport { getInitialState, transformDbState } from './game/util';\r\nimport GameService from './game/game';\r\nimport DbService from './database/db';\r\n\r\nexport let app;\r\nexport let observable;\r\n\r\n// run only in browser\r\nif (typeof window !== 'undefined') {\r\n\t// inject dependencies and initialize the app\r\n\t\r\n\tobservable = new ObservableService();\r\n\r\n\tconst dbService = new DbService({\r\n\t\tdriver: idb,\r\n\t\tname: 'cookie-clicker-db',\r\n\t\tstores: [{ store: 'state', key: 'name' }]\r\n\t});\r\n\r\n\tdbService.readAll('state').then(state => {\r\n\t\tapp = new GameService({\r\n\t\t\tobservable,\r\n\t\t\tdbService,\r\n\t\t\tsaveInterval: 2,\r\n\t\t\tstate: (!state || state.length <= 0)\r\n\t\t\t\t? getInitialState()\r\n\t\t\t\t: transformDbState(state[0])\r\n\t\t});\r\n\t});\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/index.js","import { h } from 'preact';\r\nimport Subscribe from './subscribe';\r\nimport { observable } from '../../services';\r\nimport { APP_STATE_CHANGED } from '../../services/observable/events';\r\n\r\n// SubscribeToState is a higher order component that injects global app state into props of it's children\r\n// It is triggered by APP_STATE_CHANGED event\r\nexport const SubscribeToState = ({ children }) => (\r\n\t<Subscribe to={APP_STATE_CHANGED} from={observable}>\r\n\t\t{children}\r\n\t</Subscribe>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/common/subscribe-to.jsx","import { h } from 'preact';\r\n\r\nimport style from './style';\r\nimport githubIcon from '../../../assets/images/github.svg';\r\nimport trashIcon from '../../../assets/images/trash.svg';\r\n\r\nimport { app } from '../../../services';\r\n\r\nexport default class Stats {\r\n\tresetHandler = () => this.props.app ? this.props.app.resetGame() : app.resetGame();\r\n\r\n\trender({ sub }) {\r\n\t\treturn (\r\n\t\t\t<header class={style.stats} >\r\n\t\t\t\t<h1>\r\n\t\t\t\t\t{sub && sub.name}\r\n\t\t\t\t</h1>\r\n\t\t\t\t<span class={style.cps}>\r\n\t\t\t\t\tcookies baked so far:\r\n\t\t\t\t</span>\r\n\t\t\t\t<span class={style.quantity}>\r\n\t\t\t\t\t{sub && sub.cookiesDisplay}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span class={style.cps}>\r\n\t\t\t\t\tper second: { sub && sub.cookiesPerSecond}\r\n\t\t\t\t</span>\r\n\t\t\t\t<a\r\n\t\t\t\t\tclass={style.github}\r\n\t\t\t\t\ttitle=\"Checkout my github!\"\r\n\t\t\t\t\taria-label=\"Checkout my github!\"\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\thref=\"https://github.com/Pesiok/cookie-clicker\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<img aria-hidden=\"true\" src={githubIcon} alt=\"\" />\r\n\t\t\t\t</a>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass={style.trash}\r\n\t\t\t\t\ttitle=\"Throw away all cookies and recipes\"\r\n\t\t\t\t\taria-label=\"Throw away all cookies and recipes!\"\r\n\t\t\t\t\tonClick={this.resetHandler}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img aria-hidden=\"true\" src={trashIcon} />\r\n\t\t\t\t</button>\r\n\t\t\t</header>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/cookie-container/stats/index.jsx","import { h } from 'preact';\r\n\r\nimport style from './style';\r\nimport cookie from '../../../assets/images/cookie.svg';\r\n\r\nimport { app } from '../../../services';\r\n\r\nexport default class Cookie {\r\n\tclickHandler = () => this.props.app ? this.props.app.click() : app.click();\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<button class={style.cookie} onClick={this.clickHandler} aria-label=\"get cookie\">\r\n\t\t\t\t<img src={cookie} alt=\"cookie\" />\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./components/cookie-container/cookie/index.jsx","import { h } from 'preact';\r\nimport style from './style';\r\n\r\nimport { SubscribeToState } from '../common/subscribe-to';\r\nimport Stats from './stats';\r\nimport Cookie from './cookie';\r\n\r\nconst CookieContainer = () => (\r\n\t<div class={style.cookieContainer}>\r\n\t\t<SubscribeToState>\r\n\t\t\t<Stats />\r\n\t\t</SubscribeToState>\r\n\t\t<div class={style.cookieWrapper}>\r\n\t\t\t<Cookie />\r\n\t\t</div>\r\n\t</div>\r\n);\r\n\r\nexport default CookieContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/cookie-container/index.jsx","import { h } from 'preact';\r\n\r\nimport { app } from '../../../services';\r\nimport style from './style';\r\n\r\nexport default class StoreItem {\r\n\tbuy = () => {\r\n\t\tconst { app: propApp, name } = this.props;\r\n\t\tpropApp ? propApp.buyBuilding(name, 1) : app.buyBuilding(name, 1);\r\n\t}\r\n\r\n\trender(props) {\r\n\t\treturn (\r\n\t\t\t<li\r\n\t\t\t\tclass={`${style.storeListItem} ${props.affordable ? style.storeListItemActive : style.storeListItemBlocked}`}\r\n\t\t\t\tonClick={this.buy}\r\n\t\t\t\tkey={props.name}\r\n\t\t\t\trole=\"button\"\r\n\t\t\t\ttabIndex=\"0\"\r\n\t\t\t>\r\n\t\t\t\t<span class={style.foldedCorner} aria-hidden=\"true\" />\r\n\t\t\t\t<h3>{props.name}</h3>\r\n\t\t\t\t<div class={style.storeListItemInfo}>\r\n\t\t\t\t\t<img class={style.icon} src={require(`../../../assets/images/buildings/${props.picture}`)} alt={props.name} />\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\tOwned: <b>{props.owned}</b>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\tPrice: <b>{props.price} c</b>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\tProduction: <b>{props.incrQuantity * props.refreshRate} c/s</b>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\tTotal production: <b>{props.cookiesPerSecond} c/s</b>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class={style.storeListItemDesc}>\r\n\t\t\t\t\t{props.desc}\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./components/store-container/store-item/index.jsx","import { h } from 'preact';\r\n\r\nimport style from './style';\r\nimport StoreItem from '../store-item';\r\n\r\nconst Store = ({ sub }) => (\r\n\t<div class={style.store}>\r\n\t\t<h2 class={style.storeRibbon}>\r\n\t\t\tRecipes for more cookies\r\n\t\t</h2>\r\n\t\t<ul class={style.storeList}>\r\n\t\t\t{ sub && sub.buildings.map(building => (\r\n\t\t\t\t<StoreItem {...building} />\r\n\t\t\t))}\r\n\t\t</ul>\r\n\t</div>\r\n);\r\n\r\nexport default Store;\n\n\n// WEBPACK FOOTER //\n// ./components/store-container/store/index.jsx","import { h } from 'preact';\r\n\r\nimport { SubscribeToState } from '../common/subscribe-to';\r\nimport Store from './store';\r\n\r\nconst StoreContainer = () => (\r\n\t<SubscribeToState>\r\n\t\t<Store />\r\n\t</SubscribeToState>\r\n);\r\n\r\nexport default StoreContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/store-container/index.jsx","import { h } from 'preact';\r\n\r\n// components\r\nimport CookieContainer from './cookie-container';\r\nimport StoreContainer from './store-container';\r\n\r\nconst App = () => (\r\n\t<div id=\"app\">\r\n\t\t<CookieContainer />\r\n\t\t<StoreContainer />\r\n\t</div>\r\n);\r\n\r\nexport default App;\n\n\n// WEBPACK FOOTER //\n// ./components/app.jsx","import './style';\nimport App from './components/app';\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","!function(){\"use strict\";function e(){}function t(t,n){var o,r,i,l,a=E;for(l=arguments.length;l-- >2;)W.push(arguments[l]);n&&null!=n.children&&(W.length||W.push(n.children),delete n.children);while(W.length)if((r=W.pop())&&void 0!==r.pop)for(l=r.length;l--;)W.push(r[l]);else\"boolean\"==typeof r&&(r=null),(i=\"function\"!=typeof t)&&(null==r?r=\"\":\"number\"==typeof r?r+=\"\":\"string\"!=typeof r&&(i=!1)),i&&o?a[a.length-1]+=r:a===E?a=[r]:a.push(r),o=i;var u=new e;return u.nodeName=t,u.children=a,u.attributes=null==n?void 0:n,u.key=null==n?void 0:n.key,void 0!==S.vnode&&S.vnode(u),u}function n(e,t){for(var n in t)e[n]=t[n];return e}function o(e,o){return t(e.nodeName,n(n({},e.attributes),o),arguments.length>2?[].slice.call(arguments,2):e.children)}function r(e){!e.__d&&(e.__d=!0)&&1==A.push(e)&&(S.debounceRendering||P)(i)}function i(){var e,t=A;A=[];while(e=t.pop())e.__d&&k(e)}function l(e,t,n){return\"string\"==typeof t||\"number\"==typeof t?void 0!==e.splitText:\"string\"==typeof t.nodeName?!e._componentConstructor&&a(e,t.nodeName):n||e._componentConstructor===t.nodeName}function a(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function u(e){var t=n({},e.attributes);t.children=e.children;var o=e.nodeName.defaultProps;if(void 0!==o)for(var r in o)void 0===t[r]&&(t[r]=o[r]);return t}function _(e,t){var n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",e):document.createElement(e);return n.__n=e,n}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function c(e,t,n,o,r){if(\"className\"===t&&(t=\"class\"),\"key\"===t);else if(\"ref\"===t)n&&n(null),o&&o(e);else if(\"class\"!==t||r)if(\"style\"===t){if(o&&\"string\"!=typeof o&&\"string\"!=typeof n||(e.style.cssText=o||\"\"),o&&\"object\"==typeof o){if(\"string\"!=typeof n)for(var i in n)i in o||(e.style[i]=\"\");for(var i in o)e.style[i]=\"number\"==typeof o[i]&&!1===V.test(i)?o[i]+\"px\":o[i]}}else if(\"dangerouslySetInnerHTML\"===t)o&&(e.innerHTML=o.__html||\"\");else if(\"o\"==t[0]&&\"n\"==t[1]){var l=t!==(t=t.replace(/Capture$/,\"\"));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,f,l):e.removeEventListener(t,f,l),(e.__l||(e.__l={}))[t]=o}else if(\"list\"!==t&&\"type\"!==t&&!r&&t in e)s(e,t,null==o?\"\":o),null!=o&&!1!==o||e.removeAttribute(t);else{var a=r&&t!==(t=t.replace(/^xlink\\:?/,\"\"));null==o||!1===o?a?e.removeAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase()):e.removeAttribute(t):\"function\"!=typeof o&&(a?e.setAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||\"\"}function s(e,t,n){try{e[t]=n}catch(e){}}function f(e){return this.__l[e.type](S.event&&S.event(e)||e)}function d(){var e;while(e=D.pop())S.afterMount&&S.afterMount(e),e.componentDidMount&&e.componentDidMount()}function h(e,t,n,o,r,i){H++||(R=null!=r&&void 0!==r.ownerSVGElement,j=null!=e&&!(\"__preactattr_\"in e));var l=m(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--H||(j=!1,i||d()),l}function m(e,t,n,o,r){var i=e,l=R;if(null!=t&&\"boolean\"!=typeof t||(t=\"\"),\"string\"==typeof t||\"number\"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0))),i.__preactattr_=!0,i;var u=t.nodeName;if(\"function\"==typeof u)return U(e,t,n,o);if(R=\"svg\"===u||\"foreignObject\"!==u&&R,u+=\"\",(!e||!a(e,u))&&(i=_(u,R),e)){while(e.firstChild)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0)}var p=i.firstChild,c=i.__preactattr_,s=t.children;if(null==c){c=i.__preactattr_={};for(var f=i.attributes,d=f.length;d--;)c[f[d].name]=f[d].value}return!j&&s&&1===s.length&&\"string\"==typeof s[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=s[0]&&(p.nodeValue=s[0]):(s&&s.length||null!=p)&&v(i,s,n,o,j||null!=c.dangerouslySetInnerHTML),g(i,t.attributes,c),R=l,i}function v(e,t,n,o,r){var i,a,u,_,c,s=e.childNodes,f=[],d={},h=0,v=0,y=s.length,g=0,w=t?t.length:0;if(0!==y)for(var C=0;C<y;C++){var x=s[C],N=x.__preactattr_,k=w&&N?x._component?x._component.__k:N.key:null;null!=k?(h++,d[k]=x):(N||(void 0!==x.splitText?!r||x.nodeValue.trim():r))&&(f[g++]=x)}if(0!==w)for(var C=0;C<w;C++){_=t[C],c=null;var k=_.key;if(null!=k)h&&void 0!==d[k]&&(c=d[k],d[k]=void 0,h--);else if(!c&&v<g)for(i=v;i<g;i++)if(void 0!==f[i]&&l(a=f[i],_,r)){c=a,f[i]=void 0,i===g-1&&g--,i===v&&v++;break}c=m(c,_,n,o),u=s[C],c&&c!==e&&c!==u&&(null==u?e.appendChild(c):c===u.nextSibling?p(u):e.insertBefore(c,u))}if(h)for(var C in d)void 0!==d[C]&&b(d[C],!1);while(v<=g)void 0!==(c=f[g--])&&b(c,!1)}function b(e,t){var n=e._component;n?L(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||p(e),y(e))}function y(e){e=e.lastChild;while(e){var t=e.previousSibling;b(e,!0),e=t}}function g(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||c(e,o,n[o],n[o]=void 0,R);for(o in t)\"children\"===o||\"innerHTML\"===o||o in n&&t[o]===(\"value\"===o||\"checked\"===o?e[o]:n[o])||c(e,o,n[o],n[o]=t[o],R)}function w(e){var t=e.constructor.name;(I[t]||(I[t]=[])).push(e)}function C(e,t,n){var o,r=I[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),T.call(o,t,n)):(o=new T(t,n),o.constructor=e,o.render=x),r)for(var i=r.length;i--;)if(r[i].constructor===e){o.__b=r[i].__b,r.splice(i,1);break}return o}function x(e,t,n){return this.constructor(e,n)}function N(e,t,n,o,i){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.__c||(e.__c=e.context),e.context=o),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===S.syncComponentUpdates&&e.base?r(e):k(e,1,i)),e.__r&&e.__r(e))}function k(e,t,o,r){if(!e.__x){var i,l,a,_=e.props,p=e.state,c=e.context,s=e.__p||_,f=e.__s||p,m=e.__c||c,v=e.base,y=e.__b,g=v||y,w=e._component,x=!1;if(v&&(e.props=s,e.state=f,e.context=m,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(_,p,c)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(_,p,c),e.props=_,e.state=p,e.context=c),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!x){i=e.render(_,p,c),e.getChildContext&&(c=n(n({},c),e.getChildContext()));var U,T,M=i&&i.nodeName;if(\"function\"==typeof M){var W=u(i);l=w,l&&l.constructor===M&&W.key==l.__k?N(l,W,1,c,!1):(U=l,e._component=l=C(M,W,c),l.__b=l.__b||y,l.__u=e,N(l,W,0,c,!1),k(l,1,o,!0)),T=l.base}else a=g,U=w,U&&(a=e._component=null),(g||1===t)&&(a&&(a._component=null),T=h(a,i,c,o||!v,g&&g.parentNode,!0));if(g&&T!==g&&l!==w){var E=g.parentNode;E&&T!==E&&(E.replaceChild(T,g),U||(g._component=null,b(g,!1)))}if(U&&L(U),e.base=T,T&&!r){var P=e,V=e;while(V=V.__u)(P=V).base=T;T._component=P,T._componentConstructor=P.constructor}}if(!v||o?D.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(s,f,m),S.afterUpdate&&S.afterUpdate(e)),null!=e.__h)while(e.__h.length)e.__h.pop().call(e);H||r||d()}}function U(e,t,n,o){var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,_=a,p=u(t);while(r&&!_&&(r=r.__u))_=r.constructor===t.nodeName;return r&&_&&(!o||r._component)?(N(r,p,3,n,o),e=r.base):(i&&!a&&(L(i),e=l=null),r=C(t.nodeName,p,n),e&&!r.__b&&(r.__b=e,l=null),N(r,p,1,n,o),e=r.base,l&&e!==l&&(l._component=null,b(l,!1))),e}function L(e){S.beforeUnmount&&S.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?L(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,p(t),w(e),y(t)),e.__r&&e.__r(null)}function T(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}function M(e,t,n){return h(n,e,{},!1,t,!1)}var S={},W=[],E=[],P=\"function\"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,V=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,A=[],D=[],H=0,R=!1,j=!1,I={};n(T.prototype,{setState:function(e,t){var o=this.state;this.__s||(this.__s=n({},o)),n(o,\"function\"==typeof e?e(o,this.props):e),t&&(this.__h=this.__h||[]).push(t),r(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),k(this,2)},render:function(){}});var $={h:t,createElement:t,cloneElement:o,Component:T,render:M,rerender:i,options:S};\"undefined\"!=typeof module?module.exports=$:self.preact=$}();\n//# sourceMappingURL=preact.min.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact/dist/preact.min.js","module.exports = __webpack_public_path__ + \"baffd8e5debad62df4b0a4560b2773d3.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/buildings/factory.svg\n// module id = La2c\n// module chunks = 0","module.exports = __webpack_public_path__ + \"85b1777ba767a88605d9cfd9acda8455.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/buildings/mine.svg\n// module id = PUFR\n// module chunks = 0","module.exports = __webpack_public_path__ + \"e20a4d9b92a07d26d50a01a5c3ba0430.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/buildings/grandma.svg\n// module id = Rts4\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"store\":\"store__2WXUr\",\"storeRibbon\":\"storeRibbon__2aXUM\",\"storeList\":\"storeList__3u1kc\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/store-container/store/style.css\n// module id = WAls\n// module chunks = 0","module.exports = __webpack_public_path__ + \"248d43dda2e2f708230f9b1c8eb6d659.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/trash.svg\n// module id = dV/7\n// module chunks = 0","'use strict';\n\n(function() {\n  function toArray(arr) {\n    return Array.prototype.slice.call(arr);\n  }\n\n  function promisifyRequest(request) {\n    return new Promise(function(resolve, reject) {\n      request.onsuccess = function() {\n        resolve(request.result);\n      };\n\n      request.onerror = function() {\n        reject(request.error);\n      };\n    });\n  }\n\n  function promisifyRequestCall(obj, method, args) {\n    var request;\n    var p = new Promise(function(resolve, reject) {\n      request = obj[method].apply(obj, args);\n      promisifyRequest(request).then(resolve, reject);\n    });\n\n    p.request = request;\n    return p;\n  }\n\n  function promisifyCursorRequestCall(obj, method, args) {\n    var p = promisifyRequestCall(obj, method, args);\n    return p.then(function(value) {\n      if (!value) return;\n      return new Cursor(value, p.request);\n    });\n  }\n\n  function proxyProperties(ProxyClass, targetProp, properties) {\n    properties.forEach(function(prop) {\n      Object.defineProperty(ProxyClass.prototype, prop, {\n        get: function() {\n          return this[targetProp][prop];\n        },\n        set: function(val) {\n          this[targetProp][prop] = val;\n        }\n      });\n    });\n  }\n\n  function proxyRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return promisifyRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function proxyMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return this[targetProp][prop].apply(this[targetProp], arguments);\n      };\n    });\n  }\n\n  function proxyCursorRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return promisifyCursorRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function Index(index) {\n    this._index = index;\n  }\n\n  proxyProperties(Index, '_index', [\n    'name',\n    'keyPath',\n    'multiEntry',\n    'unique'\n  ]);\n\n  proxyRequestMethods(Index, '_index', IDBIndex, [\n    'get',\n    'getKey',\n    'getAll',\n    'getAllKeys',\n    'count'\n  ]);\n\n  proxyCursorRequestMethods(Index, '_index', IDBIndex, [\n    'openCursor',\n    'openKeyCursor'\n  ]);\n\n  function Cursor(cursor, request) {\n    this._cursor = cursor;\n    this._request = request;\n  }\n\n  proxyProperties(Cursor, '_cursor', [\n    'direction',\n    'key',\n    'primaryKey',\n    'value'\n  ]);\n\n  proxyRequestMethods(Cursor, '_cursor', IDBCursor, [\n    'update',\n    'delete'\n  ]);\n\n  // proxy 'next' methods\n  ['advance', 'continue', 'continuePrimaryKey'].forEach(function(methodName) {\n    if (!(methodName in IDBCursor.prototype)) return;\n    Cursor.prototype[methodName] = function() {\n      var cursor = this;\n      var args = arguments;\n      return Promise.resolve().then(function() {\n        cursor._cursor[methodName].apply(cursor._cursor, args);\n        return promisifyRequest(cursor._request).then(function(value) {\n          if (!value) return;\n          return new Cursor(value, cursor._request);\n        });\n      });\n    };\n  });\n\n  function ObjectStore(store) {\n    this._store = store;\n  }\n\n  ObjectStore.prototype.createIndex = function() {\n    return new Index(this._store.createIndex.apply(this._store, arguments));\n  };\n\n  ObjectStore.prototype.index = function() {\n    return new Index(this._store.index.apply(this._store, arguments));\n  };\n\n  proxyProperties(ObjectStore, '_store', [\n    'name',\n    'keyPath',\n    'indexNames',\n    'autoIncrement'\n  ]);\n\n  proxyRequestMethods(ObjectStore, '_store', IDBObjectStore, [\n    'put',\n    'add',\n    'delete',\n    'clear',\n    'get',\n    'getAll',\n    'getKey',\n    'getAllKeys',\n    'count'\n  ]);\n\n  proxyCursorRequestMethods(ObjectStore, '_store', IDBObjectStore, [\n    'openCursor',\n    'openKeyCursor'\n  ]);\n\n  proxyMethods(ObjectStore, '_store', IDBObjectStore, [\n    'deleteIndex'\n  ]);\n\n  function Transaction(idbTransaction) {\n    this._tx = idbTransaction;\n    this.complete = new Promise(function(resolve, reject) {\n      idbTransaction.oncomplete = function() {\n        resolve();\n      };\n      idbTransaction.onerror = function() {\n        reject(idbTransaction.error);\n      };\n      idbTransaction.onabort = function() {\n        reject(idbTransaction.error);\n      };\n    });\n  }\n\n  Transaction.prototype.objectStore = function() {\n    return new ObjectStore(this._tx.objectStore.apply(this._tx, arguments));\n  };\n\n  proxyProperties(Transaction, '_tx', [\n    'objectStoreNames',\n    'mode'\n  ]);\n\n  proxyMethods(Transaction, '_tx', IDBTransaction, [\n    'abort'\n  ]);\n\n  function UpgradeDB(db, oldVersion, transaction) {\n    this._db = db;\n    this.oldVersion = oldVersion;\n    this.transaction = new Transaction(transaction);\n  }\n\n  UpgradeDB.prototype.createObjectStore = function() {\n    return new ObjectStore(this._db.createObjectStore.apply(this._db, arguments));\n  };\n\n  proxyProperties(UpgradeDB, '_db', [\n    'name',\n    'version',\n    'objectStoreNames'\n  ]);\n\n  proxyMethods(UpgradeDB, '_db', IDBDatabase, [\n    'deleteObjectStore',\n    'close'\n  ]);\n\n  function DB(db) {\n    this._db = db;\n  }\n\n  DB.prototype.transaction = function() {\n    return new Transaction(this._db.transaction.apply(this._db, arguments));\n  };\n\n  proxyProperties(DB, '_db', [\n    'name',\n    'version',\n    'objectStoreNames'\n  ]);\n\n  proxyMethods(DB, '_db', IDBDatabase, [\n    'close'\n  ]);\n\n  // Add cursor iterators\n  // TODO: remove this once browsers do the right thing with promises\n  ['openCursor', 'openKeyCursor'].forEach(function(funcName) {\n    [ObjectStore, Index].forEach(function(Constructor) {\n      Constructor.prototype[funcName.replace('open', 'iterate')] = function() {\n        var args = toArray(arguments);\n        var callback = args[args.length - 1];\n        var nativeObject = this._store || this._index;\n        var request = nativeObject[funcName].apply(nativeObject, args.slice(0, -1));\n        request.onsuccess = function() {\n          callback(request.result);\n        };\n      };\n    });\n  });\n\n  // polyfill getAll\n  [Index, ObjectStore].forEach(function(Constructor) {\n    if (Constructor.prototype.getAll) return;\n    Constructor.prototype.getAll = function(query, count) {\n      var instance = this;\n      var items = [];\n\n      return new Promise(function(resolve) {\n        instance.iterateCursor(query, function(cursor) {\n          if (!cursor) {\n            resolve(items);\n            return;\n          }\n          items.push(cursor.value);\n\n          if (count !== undefined && items.length == count) {\n            resolve(items);\n            return;\n          }\n          cursor.continue();\n        });\n      });\n    };\n  });\n\n  var exp = {\n    open: function(name, version, upgradeCallback) {\n      var p = promisifyRequestCall(indexedDB, 'open', [name, version]);\n      var request = p.request;\n\n      request.onupgradeneeded = function(event) {\n        if (upgradeCallback) {\n          upgradeCallback(new UpgradeDB(request.result, event.oldVersion, request.transaction));\n        }\n      };\n\n      return p.then(function(db) {\n        return new DB(db);\n      });\n    },\n    delete: function(name) {\n      return promisifyRequestCall(indexedDB, 'deleteDatabase', [name]);\n    }\n  };\n\n  if (typeof module !== 'undefined') {\n    module.exports = exp;\n    module.exports.default = module.exports;\n  }\n  else {\n    self.idb = exp;\n  }\n}());\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/idb/lib/idb.js","module.exports = __webpack_public_path__ + \"55121e8287c1d4e86ea8109851a1e5d8.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/buildings/farm.svg\n// module id = l6RX\n// module chunks = 0","module.exports = __webpack_public_path__ + \"577f6bd6aeca6b201145f111de7ab28b.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/buildings/cursor.svg\n// module id = oN5R\n// module chunks = 0","module.exports = __webpack_public_path__ + \"aa073a0fc198609c3d41a4991b6f127b.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/cookie.svg\n// module id = osaz\n// module chunks = 0","module.exports = __webpack_public_path__ + \"b70dd1fd28e8741745a24cbe43f85078.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/github.svg\n// module id = rDYn\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./style/index.css\n// module id = rq4c\n// module chunks = 0","var map = {\n\t\"./cursor.svg\": \"oN5R\",\n\t\"./factory.svg\": \"La2c\",\n\t\"./farm.svg\": \"l6RX\",\n\t\"./grandma.svg\": \"Rts4\",\n\t\"./mine.svg\": \"PUFR\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"t0pj\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/buildings ^\\.\\/.*$\n// module id = t0pj\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"cookie\":\"cookie__2JblY\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/cookie-container/cookie/style.css\n// module id = x9nH\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"storeListItem\":\"storeListItem__3pGHY\",\"foldedCorner\":\"foldedCorner__bt0bX\",\"storeListItemBlocked\":\"storeListItemBlocked__1ALoQ\",\"storeListItemActive\":\"storeListItemActive__2ksJa\",\"storeListItemInfo\":\"storeListItemInfo__AqmTv\",\"storeListItemDesc\":\"storeListItemDesc__1Ios-\",\"icon\":\"icon__2rZGi\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/store-container/store-item/style.css\n// module id = zRiD\n// module chunks = 0"],"sourceRoot":""}